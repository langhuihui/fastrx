{"version":3,"file":"cjs.js","sources":["../es/common.js","../es/combination.js","../es/mathematical.js","../es/filtering.js","../es/pipe.js","../es/transformation.js","../es/producer.js","../es/devtools.js","../es/chain.js"],"sourcesContent":["export function nothing(...args) { }\nexport const call = (f) => f();\nexport const identity = (x) => x;\nexport function dispose() {\n    this.dispose();\n}\nexport class LastSink {\n    constructor() {\n        this.defers = new Set();\n        this.disposed = false;\n    }\n    next(data) {\n    }\n    complete() {\n        this.dispose();\n    }\n    error(err) {\n        this.dispose();\n    }\n    get bindDispose() {\n        return () => this.dispose();\n    }\n    dispose() {\n        this.disposed = true;\n        this.complete = nothing;\n        this.error = nothing;\n        this.next = nothing;\n        this.dispose = nothing;\n        this.doDefer();\n    }\n    doDefer() {\n        this.defers.forEach(call);\n        this.defers.clear();\n    }\n    defer(df) {\n        this.defers.add(df);\n    }\n    removeDefer(df) {\n        this.defers.delete(df);\n    }\n    reset() {\n        this.disposed = false;\n        //@ts-ignore\n        delete this.complete;\n        //@ts-ignore\n        delete this.next;\n        //@ts-ignore\n        delete this.dispose;\n        //@ts-ignore\n        delete this.next;\n    }\n    resetNext() {\n        //@ts-ignore\n        delete this.next;\n    }\n    resetComplete() {\n        //@ts-ignore\n        delete this.complete;\n    }\n    resetError() {\n        //@ts-ignore\n        delete this.error;\n    }\n}\nexport class Sink extends LastSink {\n    constructor(sink) {\n        super();\n        this.sink = sink;\n        sink.defer(this.bindDispose);\n    }\n    next(data) {\n        this.sink.next(data);\n    }\n    complete() {\n        this.sink.complete();\n    }\n    error(err) {\n        this.sink.error(err);\n    }\n}\nexport function deliver(c) {\n    return (...args) => (source) => (observer) => source(new c(observer, ...args));\n}\nfunction send(event, payload) {\n    window.postMessage({ source: 'fastrx-devtools-backend', payload: { event, payload } });\n}\nexport const Events = {\n    addSource(who, source) {\n        send('addSource', {\n            id: who.id,\n            name: who.toString(),\n            source: { id: source.id, name: source.toString() },\n        });\n    },\n    next(who, streamId, data) {\n        send('next', { id: who.id, streamId, data: data && data.toString() });\n    },\n    subscribe({ id, end }, sink) {\n        send('subscribe', {\n            id,\n            end,\n            sink: { nodeId: sink && sink.nodeId, streamId: sink && sink.streamId },\n        });\n    },\n    complete(who, streamId, err) {\n        send('complete', { id: who.id, streamId, err: err ? err.toString() : null });\n    },\n    defer(who, streamId) {\n        send('defer', { id: who.id, streamId });\n    },\n    pipe(who) {\n        send('pipe', {\n            name: who.toString(),\n            id: who.id,\n            source: { id: who.source.id, name: who.source.toString() },\n        });\n    },\n    update(who) {\n        send('update', { id: who.id, name: who.toString() });\n    },\n    create(who) {\n        send('create', { name: who.toString(), id: who.id });\n    },\n};\nexport class TimeoutError extends Error {\n    constructor(timeout) {\n        super(`timeout after ${timeout}ms`);\n        this.timeout = timeout;\n    }\n}\n","import { Sink, LastSink, deliver, nothing } from \"./common\";\nclass Share extends LastSink {\n    constructor(source) {\n        super();\n        this.source = source;\n        this.sinks = new Set();\n    }\n    add(sink) {\n        sink.defer(() => this.remove(sink));\n        if (this.sinks.add(sink).size === 1) {\n            this.reset();\n            this.source(this);\n        }\n    }\n    remove(sink) {\n        this.sinks.delete(sink);\n        if (this.sinks.size === 0) {\n            this.dispose();\n        }\n    }\n    next(data) {\n        this.sinks.forEach((s) => s.next(data));\n    }\n    complete() {\n        this.sinks.forEach((s) => s.complete());\n        this.sinks.clear();\n    }\n    error(err) {\n        this.sinks.forEach((s) => s.error(err));\n        this.sinks.clear();\n    }\n}\nexport const share = () => (source) => {\n    const share = new Share(source);\n    return share.add.bind(share);\n};\nexport const merge = (...sources) => (sink) => {\n    const merge = new Sink(sink);\n    let nLife = sources.length;\n    merge.complete = () => {\n        if (--nLife === 0) {\n            sink.complete();\n        }\n    };\n    sources.forEach((source) => source(merge));\n};\nexport const race = (...sources) => (sink) => {\n    const sinks = new Map();\n    sources.forEach((source) => {\n        const r = new Sink(sink);\n        sinks.set(source, r);\n        r.complete = () => {\n            sinks.delete(source);\n            if (sinks.size === 0) { //特殊情况：所有流都没有数据\n                sink.complete();\n            }\n            else {\n                r.dispose();\n            }\n        };\n        r.next = (data) => {\n            sinks.delete(source); //先排除自己，防止自己调用dispose\n            sinks.forEach((s) => s.dispose()); //其他所有流全部取消订阅\n            r.resetNext();\n            r.resetComplete();\n            r.next(data);\n        };\n    });\n    sources.forEach((source) => source(sinks.get(source)));\n};\nexport const concat = (...sources) => (sink) => {\n    let pos = 0;\n    const len = sources.length;\n    const s = new Sink(sink);\n    s.complete = () => {\n        if (pos < len && !s.disposed) {\n            s.doDefer();\n            sources[pos++](s);\n        }\n        else\n            sink.complete();\n    };\n    s.complete();\n};\nexport const shareReplay = (bufferSize) => (source) => {\n    const share = new Share(source);\n    const buffer = [];\n    share.next = function (data) {\n        buffer.push(data);\n        if (buffer.length > bufferSize) {\n            buffer.shift();\n        }\n        this.sinks.forEach((s) => s.next(data));\n    };\n    return (sink) => {\n        sink.defer(() => share.remove(sink));\n        buffer.forEach((cache) => sink.next(cache));\n        share.add(sink);\n    };\n};\nexport const iif = (condition, trueS, falseS) => (sink) => condition() ? trueS(sink) : falseS(sink);\nexport const combineLatest = (...sources) => (sink) => {\n    const nTotal = sources.length;\n    let nRun = nTotal; //剩余未发出事件的事件流数量\n    let nLife = nTotal; //剩余未完成的事件流数量\n    const array = new Array(nTotal);\n    const onComplete = () => {\n        if (--nLife === 0)\n            sink.complete();\n    };\n    const s = (source, i) => {\n        const ss = new Sink(sink);\n        ss.next = data => {\n            if (--nRun === 0) {\n                ss.next = data => {\n                    array[i] = data;\n                    sink.next(array);\n                };\n                ss.next(data);\n            }\n            else {\n                array[i] = data;\n            }\n        };\n        ss.complete = onComplete;\n        source(ss);\n    };\n    sources.forEach(s);\n};\nexport const zip = (...sources) => (sink) => {\n    const nTotal = sources.length;\n    let nLife = nTotal; //剩余未完成的事件流数量\n    const array = new Array(nTotal);\n    const onComplete = () => {\n        if (--nLife === 0)\n            sink.complete();\n    };\n    const s = (source, i) => {\n        const ss = new Sink(sink);\n        const buffer = [];\n        array[i] = buffer;\n        ss.next = data => {\n            buffer.push(data);\n            if (array.every(x => x.length)) {\n                sink.next(array.map(x => x.shift()));\n            }\n        };\n        ss.complete = onComplete;\n        source(ss);\n    };\n    sources.forEach(s);\n};\nexport const startWith = (...xs) => (inputSource) => (sink, pos = 0, l = xs.length) => {\n    while (pos < l) {\n        if (sink.disposed)\n            return;\n        sink.next(xs[pos++]);\n    }\n    sink.disposed || inputSource(sink);\n};\nclass WithLatestFrom extends Sink {\n    constructor(sink, ...sources) {\n        super(sink);\n        const s = new Sink(this.sink);\n        s.next = (data) => (this.buffer = data);\n        s.complete = nothing;\n        combineLatest(...sources)(s);\n    }\n    next(data) {\n        if (this.buffer) {\n            this.sink.next([data, ...this.buffer]);\n        }\n    }\n}\nexport const withLatestFrom = deliver(WithLatestFrom);\nclass BufferCount extends Sink {\n    constructor(sink, bufferSize, startBufferEvery) {\n        super(sink);\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        this.buffer = [];\n        this.count = 0;\n        if (this.startBufferEvery) {\n            this.buffers = [[]];\n        }\n    }\n    next(data) {\n        if (this.startBufferEvery) {\n            if (this.count++ === this.startBufferEvery) {\n                this.buffers.push([]);\n                this.count = 1;\n            }\n            this.buffers.forEach((buffer) => {\n                buffer.push(data);\n            });\n            if (this.buffers[0].length === this.bufferSize) {\n                this.sink.next(this.buffers.shift());\n            }\n        }\n        else {\n            this.buffer.push(data);\n            if (this.buffer.length === this.bufferSize) {\n                this.sink.next(this.buffer);\n                this.buffer = [];\n            }\n        }\n    }\n    complete() {\n        if (this.buffer.length) {\n            this.sink.next(this.buffer);\n        }\n        else if (this.buffers.length) {\n            this.buffers.forEach((buffer) => this.sink.next(buffer));\n        }\n        super.complete();\n    }\n}\nexport const bufferCount = deliver(BufferCount);\n","import { Sink, deliver } from \"./common\";\nclass Reduce extends Sink {\n    constructor(sink, f, seed) {\n        super(sink);\n        this.f = f;\n        const accSet = () => {\n            this.sink.next(this.acc);\n            this.sink.complete();\n        };\n        if (typeof seed === \"undefined\") {\n            this.next = (d) => {\n                this.acc = d;\n                this.complete = accSet;\n                this.resetNext();\n            };\n        }\n        else {\n            this.acc = seed;\n            this.complete = accSet;\n        }\n    }\n    next(data) {\n        this.acc = this.f(this.acc, data);\n    }\n}\nexport const reduce = deliver(Reduce);\nexport const count = (f) => reduce((aac, c) => (f(c) ? aac + 1 : aac), 0);\nexport const max = () => reduce(Math.max);\nexport const min = () => reduce(Math.min);\nexport const sum = () => reduce((aac, c) => aac + c, 0);\n","import { Sink, deliver, nothing, dispose } from \"./common\";\nimport { reduce } from \"./mathematical\";\nimport { timer } from \"./producer\";\nclass Filter extends Sink {\n    constructor(sink, filter, thisArg) {\n        super(sink);\n        this.filter = filter;\n        this.thisArg = thisArg;\n    }\n    next(data) {\n        if (this.filter.call(this.thisArg, data)) {\n            this.sink.next(data);\n        }\n    }\n}\nexport const filter = deliver(Filter);\nclass Ignore extends Sink {\n    next(_data) { }\n}\nexport const ignoreElements = deliver(Ignore);\nclass Take extends Sink {\n    constructor(sink, count) {\n        super(sink);\n        this.count = count;\n    }\n    next(data) {\n        this.sink.next(data);\n        if (--this.count === 0) {\n            this.complete();\n        }\n    }\n}\nexport const take = deliver(Take);\nclass TakeUntil extends Sink {\n    constructor(sink, control) {\n        super(sink);\n        this._takeUntil = new Sink(this.sink);\n        this._takeUntil.next = () => {\n            this.complete();\n        };\n        this._takeUntil.complete = dispose;\n        control(this._takeUntil);\n    }\n}\nexport const takeUntil = deliver(TakeUntil);\nclass TakeWhile extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n    }\n    next(data) {\n        if (this.f(data)) {\n            this.sink.next(data);\n        }\n        else {\n            this.complete();\n        }\n    }\n}\nexport const takeWhile = deliver(TakeWhile);\nexport const takeLast = (count) => reduce((buffer, d) => {\n    buffer.push(d);\n    if (buffer.length > count)\n        buffer.shift();\n    return buffer;\n}, []);\nclass Skip extends Sink {\n    constructor(sink, count) {\n        super(sink);\n        this.count = count;\n    }\n    next(_data) {\n        if (--this.count === 0) {\n            this.next = super.next;\n        }\n    }\n}\nexport const skip = deliver(Skip);\nclass SkipUntil extends Sink {\n    constructor(sink, control) {\n        super(sink);\n        this._skipUntil = new Sink(this.sink);\n        this._skipUntil.next = () => {\n            this._skipUntil.dispose();\n            this.next = super.next;\n        };\n        this._skipUntil.complete = dispose;\n        control(this._skipUntil);\n    }\n    next(_data) {\n    }\n}\nexport const skipUntil = deliver(SkipUntil);\nclass SkipWhile extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n    }\n    next(data) {\n        if (!this.f(data)) {\n            this.next = super.next;\n            this.next(data);\n        }\n    }\n}\nexport const skipWhile = deliver(SkipWhile);\nconst defaultThrottleConfig = {\n    leading: true,\n    trailing: false,\n};\nclass _Throttle extends Sink {\n    constructor(sink, durationSelector, trailing) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this.trailing = trailing;\n    }\n    cacheValue(value) {\n        this.last = value;\n        // @ts-ignore\n        delete this.send;\n        if (this.disposed)\n            this.throttle(value);\n    }\n    send(data) {\n        this.send = nothing;\n        this.sink.next(data);\n        this.throttle(data);\n    }\n    throttle(data) {\n        this.reset();\n        this.durationSelector(data)(this);\n    }\n    next() {\n        this.complete();\n    }\n    complete() {\n        this.dispose();\n        if (this.trailing) {\n            this.send(this.last);\n        }\n    }\n}\nclass Throttle extends Sink {\n    constructor(sink, durationSelector, config = defaultThrottleConfig) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this.config = config;\n        this._throttle = new _Throttle(this.sink, this.durationSelector, this.config.trailing);\n        this._throttle.dispose();\n    }\n    next(data) {\n        if (this._throttle.disposed && this.config.leading) {\n            this._throttle.send(data);\n        }\n        else {\n            this._throttle.cacheValue(data);\n        }\n    }\n    complete() {\n        this._throttle.throttle = nothing; //最后不再启动节流\n        this._throttle.complete();\n        super.complete();\n    }\n}\nexport const throttle = deliver(Throttle);\nconst defaultAuditConfig = {\n    leading: false,\n    trailing: true,\n};\nexport const audit = (durationSelector) => throttle(durationSelector, defaultAuditConfig);\nclass _Debounce extends Sink {\n    next() {\n        this.complete();\n    }\n    complete() {\n        this.dispose();\n        this.sink.next(this.last);\n    }\n}\nclass Debounce extends Sink {\n    constructor(sink, durationSelector) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this._debounce = new _Debounce(this.sink);\n        this._debounce.dispose();\n    }\n    next(data) {\n        this._debounce.dispose();\n        this._debounce.reset();\n        this._debounce.last = data;\n        this.durationSelector(data)(this._debounce);\n    }\n    complete() {\n        this._debounce.complete();\n        super.complete();\n    }\n}\nexport const debounce = deliver(Debounce);\nexport const debounceTime = (period) => debounce((_d) => timer(period));\nclass ElementAt extends Sink {\n    constructor(sink, count, defaultValue) {\n        super(sink);\n        this.count = count;\n        this.defaultValue = defaultValue;\n    }\n    next(data) {\n        if (this.count-- === 0) {\n            this.defaultValue = data;\n            this.complete();\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('not enough elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const elementAt = deliver(ElementAt);\nexport const find = (f) => (source) => take(1)(skipWhile((d) => !f(d))(source));\nclass FindIndex extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n        this.i = 0;\n    }\n    next(data) {\n        if (this.f(data)) {\n            this.sink.next(this.i++);\n            this.complete();\n        }\n        else {\n            ++this.i;\n        }\n    }\n}\nexport const findIndex = deliver(FindIndex);\nclass First extends Sink {\n    constructor(sink, f, defaultValue) {\n        super(sink);\n        this.f = f;\n        this.defaultValue = defaultValue;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.f || this.f(data, this.index++)) {\n            this.defaultValue = data;\n            this.complete();\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const first = deliver(First);\nclass Last extends Sink {\n    constructor(sink, f, defaultValue) {\n        super(sink);\n        this.f = f;\n        this.defaultValue = defaultValue;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.f || this.f(data, this.index++)) {\n            this.defaultValue = data;\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const last = deliver(Last);\nclass Every extends Sink {\n    constructor(sink, predicate) {\n        super(sink);\n        this.predicate = predicate;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.predicate(data, this.index++)) {\n            this.result = false;\n            this.complete();\n        }\n        else {\n            this.result = true;\n        }\n    }\n    complete() {\n        if (this.result === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.result);\n        super.complete();\n    }\n}\nexport const every = deliver(Every);\n","import { Sink, deliver, nothing, LastSink, TimeoutError } from './common';\nexport function pipe(first, ...cbs) {\n    return cbs.reduce((aac, c) => c(aac), first);\n}\nexport const toPromise = () => (source) => new Promise((resolve, reject) => {\n    let value;\n    source(new Subscribe((d) => (value = d), reject, () => resolve(value)));\n});\nexport class Subscribe extends LastSink {\n    constructor(next = nothing, _error = nothing, _complete = nothing) {\n        super();\n        this.next = next;\n        this._error = _error;\n        this._complete = _complete;\n        this.then = nothing;\n    }\n    complete() {\n        this.dispose();\n        this._complete();\n    }\n    error(err) {\n        this.dispose();\n        this._error(err);\n    }\n}\n// //SUBSCRIBER\nexport const subscribe = (n = nothing, e = nothing, c = nothing) => (source) => {\n    const sink = new Subscribe(n, e, c);\n    source(sink);\n    return sink;\n};\n// // UTILITY\nexport const tap = (ob) => (source) => (sink) => {\n    const observer = new Sink(sink);\n    if (ob instanceof Function) {\n        observer.next = (data) => { ob(data); sink.next(data); };\n    }\n    else {\n        if (ob.next)\n            observer.next = (data) => { ob.next(data); sink.next(data); };\n        if (ob.complete)\n            observer.complete = () => { ob.complete(); sink.complete(); };\n        if (ob.error)\n            observer.error = (err) => { ob.error(err); sink.error(err); };\n    }\n    source(observer);\n};\nclass Delay extends Sink {\n    constructor(sink, delay) {\n        super(sink);\n        this.buffer = [];\n        this.delayTime = delay;\n    }\n    dispose() {\n        clearTimeout(this.timeoutId);\n        super.dispose();\n    }\n    delay(delay) {\n        this.timeoutId = setTimeout(() => {\n            const d = this.buffer.shift();\n            if (d) {\n                const { time: lastTime, data } = d;\n                super.next(data);\n                if (this.buffer.length) {\n                    this.delay(Number(this.buffer[0].time) - Number(lastTime));\n                }\n            }\n        }, delay);\n    }\n    next(data) {\n        if (!this.buffer.length) {\n            this.delay(this.delayTime);\n        }\n        this.buffer.push({ time: new Date(), data });\n    }\n    complete() {\n        this.timeoutId = setTimeout(() => super.complete(), this.delayTime);\n    }\n}\nexport const delay = deliver(Delay);\nclass CatchError extends Sink {\n    constructor(sink, selector) {\n        super(sink);\n        this.selector = selector;\n    }\n    error(err) {\n        this.dispose();\n        this.selector(err)(this.sink);\n    }\n}\nexport const catchError = deliver(CatchError);\nimport { subject } from './producer';\nclass GroupBy extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n        this.groups = new Map();\n    }\n    next(data) {\n        const key = this.f(data);\n        let group = this.groups.get(key);\n        if (typeof group === 'undefined') {\n            group = subject();\n            group.key = key;\n            this.groups.set(key, group);\n            super.next(group);\n        }\n        group.next(data);\n    }\n    complete() {\n        this.groups.forEach((group) => group.complete());\n        super.complete();\n    }\n    error(err) {\n        this.groups.forEach((group) => group.error(err));\n        super.error(err);\n    }\n}\nexport const groupBy = deliver(GroupBy);\nclass Timeout extends Sink {\n    constructor(sink, timeout) {\n        super(sink);\n        this.timeout = timeout;\n        this.id = setTimeout(() => this.error(new TimeoutError(this.timeout)), this.timeout);\n    }\n    next(data) {\n        super.next(data);\n        clearTimeout(this.id);\n        this.next = super.next;\n    }\n    dispose() {\n        clearTimeout(this.id);\n        super.dispose();\n    }\n}\nexport const timeout = deliver(Timeout);\n","import { Sink, deliver, nothing } from \"./common\";\nclass Scan extends Sink {\n    constructor(sink, f, seed) {\n        super(sink);\n        this.f = f;\n        if (typeof seed === \"undefined\") {\n            this.next = (d) => {\n                this.acc = d;\n                this.resetNext();\n                this.sink.next(this.acc);\n            };\n        }\n        else {\n            this.acc = seed;\n        }\n    }\n    next(data) {\n        this.sink.next(this.acc = this.f(this.acc, data));\n    }\n}\nexport const scan = deliver(Scan);\nclass Pairwise extends Sink {\n    constructor() {\n        super(...arguments);\n        this.hasLast = false;\n    }\n    next(data) {\n        if (this.hasLast) {\n            this.sink.next([this.last, data]);\n        }\n        else {\n            this.hasLast = true;\n        }\n        this.last = data;\n    }\n}\nexport const pairwise = deliver(Pairwise);\nclass MapObserver extends Sink {\n    constructor(sink, mapper, thisArg) {\n        super(sink);\n        this.mapper = mapper;\n        this.thisArg = thisArg;\n    }\n    next(data) {\n        super.next(this.mapper.call(this.thisArg, data));\n    }\n}\nexport const map = deliver(MapObserver);\nexport const mapTo = (target) => map((_x) => target);\nclass InnerSink extends Sink {\n    constructor(sink, data, context) {\n        super(sink);\n        this.data = data;\n        this.context = context;\n    }\n    next(data) {\n        const combineResults = this.context.combineResults;\n        if (combineResults) {\n            this.sink.next(combineResults(this.data, data));\n        }\n        else {\n            this.sink.next(data);\n        }\n    }\n    // 如果complete先于context的complete触发，则激活原始的context的complete\n    tryComplete() {\n        this.context.resetComplete();\n        this.dispose();\n    }\n}\nclass Maps extends Sink {\n    constructor(sink, makeSource, combineResults) {\n        super(sink);\n        this.makeSource = makeSource;\n        this.combineResults = combineResults;\n        this.index = 0;\n    }\n    subInner(data, c) {\n        const sink = this.currentSink = new c(this.sink, data, this);\n        this.complete = this.tryComplete;\n        sink.complete = sink.tryComplete;\n        this.makeSource(data, this.index++)(sink);\n    }\n    // 如果complete先于inner的complete触发，则不传播complete\n    tryComplete() {\n        // 如果tryComplete被调用，说明currentSink已经存在\n        this.currentSink.resetComplete();\n        this.dispose();\n    }\n}\nclass _SwitchMap extends InnerSink {\n}\nclass SwitchMap extends Maps {\n    next(data) {\n        this.subInner(data, _SwitchMap);\n        this.next = (data) => {\n            this.currentSink.dispose();\n            this.subInner(data, _SwitchMap);\n        };\n    }\n}\nexport const switchMap = deliver(SwitchMap);\nfunction makeMapTo(f) {\n    return (innerSource, combineResults) => f(() => innerSource, combineResults);\n}\nexport const switchMapTo = makeMapTo(switchMap);\nclass _ConcatMap extends InnerSink {\n    tryComplete() {\n        this.dispose();\n        if (this.context.sources.length) {\n            this.context.subNext();\n        }\n        else {\n            this.context.resetNext();\n            this.context.resetComplete();\n        }\n    }\n}\nclass ConcatMap extends Maps {\n    constructor() {\n        super(...arguments);\n        this.sources = [];\n        this.next2 = this.sources.push.bind(this.sources);\n    }\n    next(data) {\n        this.next2(data);\n        this.subNext();\n    }\n    subNext() {\n        this.next = this.next2; //后续直接push，不触发subNext\n        this.subInner(this.sources.shift(), _ConcatMap);\n        if (this.disposed && this.sources.length === 0) {\n            // 最后一个innerSink，需要激活其真实的complete\n            this.currentSink.resetComplete();\n        }\n    }\n    tryComplete() {\n        if (this.sources.length === 0)\n            // 最后一个innerSink，需要激活其真实的complete\n            this.currentSink.resetComplete();\n        this.dispose();\n    }\n}\nexport const concatMap = deliver(ConcatMap);\nexport const concatMapTo = makeMapTo(concatMap);\nclass _MergeMap extends InnerSink {\n    tryComplete() {\n        this.context.inners.delete(this);\n        super.dispose();\n        if (this.context.inners.size === 0)\n            this.context.resetComplete();\n    }\n}\n// type __Maps<C> = C extends MapContext<infer T, infer U, infer R> ? C : never;\n// type _Maps<C> = C extends InnerSink<infer T, infer U, infer R, infer> ? Maps<T, U, R, C> : never;\nclass MergeMap extends Maps {\n    constructor() {\n        super(...arguments);\n        this.inners = new Set();\n    }\n    next(data) {\n        this.subInner(data, _MergeMap);\n        this.inners.add(this.currentSink);\n    }\n    tryComplete() {\n        // 最后一个innerSink，需要激活其真实的complete\n        if (this.inners.size === 1)\n            this.inners.forEach(s => s.resetComplete());\n        else\n            this.dispose();\n    }\n}\nexport const mergeMap = deliver(MergeMap);\nexport const mergeMapTo = makeMapTo(mergeMap);\nclass _ExhaustMap extends InnerSink {\n    dispose() {\n        this.context.resetNext();\n        super.dispose();\n    }\n}\nclass ExhaustMap extends Maps {\n    next(data) {\n        this.next = nothing;\n        this.subInner(data, _ExhaustMap);\n    }\n}\nexport const exhaustMap = deliver(ExhaustMap);\nexport const exhaustMapTo = makeMapTo(exhaustMap);\nclass TimeInterval extends Sink {\n    constructor() {\n        super(...arguments);\n        this.start = new Date();\n    }\n    next(value) {\n        this.sink.next({ value, interval: Number(new Date()) - Number(this.start) });\n        this.start = new Date();\n    }\n}\nexport const timeInterval = deliver(TimeInterval);\nclass BufferTime extends Sink {\n    constructor(sink, miniseconds) {\n        super(sink);\n        this.miniseconds = miniseconds;\n        this.buffer = [];\n        this.id = setInterval(() => {\n            this.sink.next(this.buffer.concat());\n            this.buffer.length = 0;\n        }, this.miniseconds);\n    }\n    next(data) {\n        this.buffer.push(data);\n    }\n    complete() {\n        this.sink.next(this.buffer);\n        super.complete();\n    }\n    dispose() {\n        clearInterval(this.id);\n        super.dispose();\n    }\n}\nexport const bufferTime = deliver(BufferTime);\n","import { merge, share } from \"./combination\";\nimport { nothing } from \"./common\";\nimport { takeUntil } from \"./filtering\";\nimport { pipe } from \"./pipe\";\nimport { switchMap } from \"./transformation\";\nexport const subject = (source) => {\n    const observable = share()((sink) => {\n        observable.next = (data) => sink.next(data);\n        observable.complete = () => sink.complete();\n        observable.error = (err) => sink.error(err);\n        source && source(sink);\n    });\n    observable.next = nothing;\n    observable.complete = nothing;\n    observable.error = nothing;\n    return observable;\n};\nexport const defer = (f) => (sink) => f()(sink);\nexport const of = (...data) => fromArray(data);\nconst asap = (f) => (sink) => setTimeout(() => f(sink));\nexport const fromArray = (data) => asap((sink) => {\n    for (const d of data) {\n        if (sink.disposed)\n            return;\n        sink.next(d);\n    }\n    sink.complete();\n});\nexport const interval = (period) => (sink) => {\n    let i = 0;\n    const id = setInterval(() => sink.next(i++), period);\n    sink.defer(() => { clearInterval(id); });\n};\nexport const timer = (delay, period = 0) => (sink) => {\n    let i = 0;\n    const id = setTimeout(() => {\n        sink.removeDefer(deferF);\n        sink.next(i++);\n        if (period) {\n            const id = setInterval(() => sink.next(i++), period);\n            sink.defer(() => { clearInterval(id); });\n        }\n        else {\n            sink.complete();\n        }\n    }, delay);\n    const deferF = () => { clearTimeout(id); };\n    sink.defer(deferF);\n};\nexport const fromEventPattern = (add, remove) => (sink) => {\n    const n = (d) => sink.next(d);\n    sink.defer(() => remove(n));\n    add(n);\n};\nexport const fromEvent = (target, name) => {\n    if (\"on\" in target) {\n        return fromEventPattern((h) => target.on(name, h), (h) => target.off(name, h));\n    }\n    else if (\"addListener\" in target) {\n        return fromEventPattern((h) => target.addListener(name, h), (h) => target.removeListener(name, h));\n    }\n    else if (\"addEventListener\" in target) {\n        return fromEventPattern((h) => target.addEventListener(name, h), (h) => target.removeEventListener(name, h));\n    }\n    else\n        throw 'target is not a EventDispachter';\n};\n/**\n *\n * @param {window | Worker | EventSource | WebSocket | RTCPeerConnection} target\n * @returns\n */\nexport const fromMessageEvent = (target) => (sink) => {\n    const closeOb = fromEvent(target, 'close');\n    const messageOb = fromEvent(target, 'message');\n    const errorOb = fromEvent(target, 'error');\n    pipe(merge(messageOb, switchMap(throwError)(errorOb)), takeUntil(closeOb))(sink);\n    sink.defer(() => target.close());\n};\nexport const fromPromise = (promise) => (sink) => {\n    promise.then(sink.next.bind(sink), sink.error.bind(sink));\n};\nexport const fromFetch = (input, init) => defer(() => fromPromise(fetch(input, init)));\nexport const fromIterable = (source) => asap((sink) => {\n    try {\n        for (const data of source) {\n            if (sink.disposed)\n                return;\n            sink.next(data);\n        }\n        sink.complete();\n    }\n    catch (err) {\n        sink.error(err);\n    }\n});\nexport const fromAnimationFrame = () => (sink) => {\n    let id;\n    function next(t) {\n        if (!sink.disposed) {\n            sink.next(t);\n            id = requestAnimationFrame(next);\n        }\n    }\n    id = requestAnimationFrame(next);\n    sink.defer(() => cancelAnimationFrame(id));\n};\nexport const range = (start, count) => (sink, pos = start, end = count + start) => {\n    while (pos < end && !sink.disposed)\n        sink.next(pos++);\n    sink.complete();\n};\nexport const bindCallback = (call, thisArg, ...args) => (sink) => {\n    const inArgs = args.concat((res) => (sink.next(res), sink.complete()));\n    call.apply(thisArg, inArgs);\n};\nexport const bindNodeCallback = (call, thisArg, ...args) => (sink) => {\n    const inArgs = args.concat((err, res) => err ? (sink.error(err)) : (sink.next(res), sink.complete()));\n    call.apply(thisArg, inArgs);\n};\nexport const never = () => nothing;\nexport const throwError = (e) => (sink) => sink.error(e);\nexport const empty = () => (sink) => sink.complete();\n","import { Events, Sink } from \"./common\";\nimport * as fastrx from './index';\nlet COUNT = 0;\nexport class Node {\n    constructor(name = '', arg = []) {\n        this.name = name;\n        this.arg = arg;\n        this.id = COUNT++;\n        switch (name) {\n            case 'subscribe':\n            case 'toPromise':\n            case 'toRef':\n                this.end = true;\n                break;\n            default:\n                this.end = false;\n        }\n        Events.create(this);\n        if (arg.length) {\n            this.args = arg;\n        }\n    }\n    toString() {\n        return `${typeof this.name == 'string' ? this.name : this.name.name}(${this.arg\n            .map((x) => typeof x == 'object' || typeof x == 'function'\n            ? (typeof x.name == 'function' ? x.name.name : x.name) || '...'\n            : x)\n            .join(',')})`;\n    }\n    get unProxy() {\n        return this;\n    }\n    //是否属于子流\n    checkSubNode(x) {\n        if (\"unProxy\" in x) {\n            const isNode = x.unProxy;\n            Events.addSource(this, isNode),\n                (s) => {\n                    s.nodeId = this.id;\n                    s.streamId = 0;\n                    isNode.subscribe(s);\n                };\n        }\n        else if (typeof x == 'function') {\n            (...arg) => this.checkSubNode(x(...arg));\n        }\n        return x;\n    }\n    //过滤子事件流，放入sources数组中，就能显示\n    set args(value) {\n        this.arg = value.map((x) => this.checkSubNode(x));\n    }\n    // 通过返回proxy产生链式调用\n    pipe() {\n        if (this.end) {\n            return this.subscribe();\n        }\n        const target = this;\n        return new Proxy((sink) => this.subscribe(sink), {\n            get(_, prop) {\n                if (prop != 'subscribe' && (prop in target))\n                    // @ts-ignore\n                    return target[prop];\n                if (prop == 'subscribe' && target.subscribeSink)\n                    return target.subscribeSink;\n                const sink = target.createSink(prop);\n                return (target.subscribeSink = (...args) => {\n                    sink.args = args;\n                    Events.update(sink);\n                    return sink.pipe();\n                });\n            },\n        });\n    }\n    createSink(name) {\n        const sink = new Node(name);\n        sink.source = this;\n        Events.pipe(sink);\n        return sink;\n    }\n    subscribe(sink) {\n        const { source, name, arg } = this;\n        // @ts-ignore\n        const realrx = typeof name == 'string' ? fastrx[name](...arg) : name;\n        let f = source && !this.end\n            ? realrx((s) => {\n                s.streamId = streamCount - 1;\n                s.nodeId = this.id;\n                source.subscribe(s);\n            })\n            : realrx;\n        let streamCount = 0;\n        this.subscribe = function (sink) {\n            const streamId = streamCount++;\n            if (sink) {\n                const newSink = new Sink(sink);\n                newSink.next = (data) => {\n                    Events.next(this, streamId, data);\n                    sink.next(data);\n                };\n                newSink.complete = () => {\n                    Events.complete(this, streamId);\n                    sink.complete();\n                };\n                newSink.error = (err) => {\n                    Events.complete(this, streamId, err);\n                    sink.error(err);\n                };\n                newSink.defer(() => {\n                    Events.defer(this, streamId);\n                });\n                Events.subscribe(this, sink);\n                f(newSink);\n                return newSink;\n            }\n            return f((s) => {\n                const { next, complete, error } = s;\n                s.next = (data) => {\n                    Events.next(this, streamId, data);\n                    next(data);\n                };\n                s.error = (err) => {\n                    Events.complete(this, streamId, err);\n                    error(err);\n                };\n                s.complete = () => {\n                    Events.complete(this, streamId);\n                    complete();\n                };\n                s.streamId = streamId;\n                s.nodeId = this.id;\n                Events.subscribe(this);\n                source.subscribe(s);\n            });\n        };\n        return this.subscribe(sink);\n    }\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n// @ts-nocheck\nimport { tap, delay, subscribe, toPromise } from './pipe';\nimport { Node } from './devtools';\nimport * as producer from './producer';\nimport * as combination from './combination';\nconst { zip, merge, race, concat, combineLatest } = combination, combinations = __rest(combination, [\"zip\", \"merge\", \"race\", \"concat\", \"combineLatest\"]);\nconst observables = Object.assign({ zip, merge, race, concat, combineLatest }, producer);\n//const operators = { tap, delay, timeout, catchError, groupBy, ...combinations, ...filtering, ...mathematical, ...transformation };\nconst operators = { tap, delay };\nfunction inspect() {\n    return typeof window != 'undefined' && window.__FASTRX_DEVTOOLS__;\n}\nconst rxProxy = {\n    get: (target, prop) => {\n        switch (prop) {\n            case \"subscribe\":\n                return (...args) => subscribe(...args)(target);\n            case \"toPromise\":\n                return () => toPromise()(target);\n            default:\n                return ((operator) => (...args) => new Proxy(operator(...args)(target), rxProxy))(operators[prop]);\n        }\n    }\n};\nexport const rx = new Proxy((f) => (inspect() ? new Node(f).pipe() : new Proxy(f, rxProxy)), {\n    get: (_target, prop) => inspect()\n        ? (...arg) => new Node(prop, arg).pipe()\n        : ((observable) => (...args) => new Proxy(observable(...args), rxProxy))(observables[prop]),\n    // @ts-ignore\n    set: (_target, prop, value) => (observables[prop] = value),\n});\n"],"names":["nothing","call","f","identity","x","dispose","LastSink","defers","Set","disposed","data","err","complete","error","next","doDefer","forEach","clear","df","add","delete","Sink","sink","defer","bindDispose","deliver","c","args","source","observer","send","event","payload","window","postMessage","Events","addSource","who","id","name","toString","streamId","subscribe","end","nodeId","pipe","update","create","TimeoutError","timeout","Error","Share","sinks","remove","size","reset","s","share","bind","merge","sources","nLife","length","race","Map","r","set","resetNext","resetComplete","get","concat","pos","len","shareReplay","bufferSize","buffer","push","shift","cache","iif","condition","trueS","falseS","combineLatest","nTotal","nRun","array","Array","onComplete","i","ss","zip","every","map","startWith","xs","inputSource","l","WithLatestFrom","withLatestFrom","BufferCount","startBufferEvery","count","buffers","bufferCount","Reduce","seed","accSet","acc","d","reduce","aac","max","Math","min","sum","Filter","filter","thisArg","Ignore","_data","ignoreElements","Take","take","TakeUntil","control","_takeUntil","takeUntil","TakeWhile","takeWhile","takeLast","Skip","skip","SkipUntil","_skipUntil","skipUntil","SkipWhile","skipWhile","defaultThrottleConfig","leading","trailing","_Throttle","durationSelector","value","last","throttle","Throttle","config","_throttle","cacheValue","defaultAuditConfig","audit","_Debounce","Debounce","_debounce","debounce","debounceTime","period","_d","timer","ElementAt","defaultValue","elementAt","find","FindIndex","findIndex","First","index","first","Last","Every","predicate","result","cbs","toPromise","Promise","resolve","reject","Subscribe","_error","_complete","then","n","e","tap","ob","Function","Delay","delay","delayTime","clearTimeout","timeoutId","setTimeout","lastTime","time","Number","Date","CatchError","selector","catchError","GroupBy","groups","key","group","subject","groupBy","Timeout","Scan","scan","Pairwise","arguments","hasLast","pairwise","MapObserver","mapper","mapTo","target","_x","InnerSink","context","combineResults","Maps","makeSource","currentSink","tryComplete","_SwitchMap","SwitchMap","subInner","switchMap","makeMapTo","innerSource","switchMapTo","_ConcatMap","subNext","ConcatMap","next2","concatMap","concatMapTo","_MergeMap","inners","MergeMap","mergeMap","mergeMapTo","_ExhaustMap","ExhaustMap","exhaustMap","exhaustMapTo","TimeInterval","start","interval","timeInterval","BufferTime","miniseconds","setInterval","clearInterval","bufferTime","observable","of","fromArray","asap","removeDefer","deferF","fromEventPattern","fromEvent","h","on","off","addListener","removeListener","addEventListener","removeEventListener","fromMessageEvent","closeOb","messageOb","errorOb","throwError","close","fromPromise","promise","fromFetch","input","init","fetch","fromIterable","fromAnimationFrame","t","requestAnimationFrame","cancelAnimationFrame","range","bindCallback","inArgs","res","apply","bindNodeCallback","never","empty","COUNT","Node","arg","join","isNode","unProxy","checkSubNode","Proxy","_","prop","subscribeSink","createSink","realrx","fastrx","streamCount","newSink","__rest","this","p","Object","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","combination","observables","assign","producer","operators","inspect","__FASTRX_DEVTOOLS__","rxProxy","operator","rx","_target"],"mappings":"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"}
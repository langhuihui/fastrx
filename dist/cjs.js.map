{"version":3,"file":"cjs.js","sources":["../es/common.js","../es/combination.js","../es/mathematical.js","../es/filtering.js","../es/transformation.js","../es/producer.js","../es/pipe.js","../es/devtools.js","../es/chain.js"],"sourcesContent":["export function nothing(...args) { }\nexport const call = (f) => f();\nexport const identity = (x) => x;\nexport function dispose() {\n    this.dispose();\n}\nexport class LastSink {\n    constructor() {\n        this.defers = new Set();\n        this.disposed = false;\n    }\n    next(data) {\n    }\n    complete() {\n        this.dispose();\n    }\n    error(err) {\n        this.dispose();\n    }\n    get bindDispose() {\n        return () => this.dispose();\n    }\n    dispose() {\n        this.disposed = true;\n        this.complete = nothing;\n        this.error = nothing;\n        this.next = nothing;\n        this.dispose = nothing;\n        this.doDefer();\n    }\n    doDefer() {\n        this.defers.forEach(call);\n        this.defers.clear();\n    }\n    defer(df) {\n        this.defers.add(df);\n    }\n    removeDefer(df) {\n        this.defers.delete(df);\n    }\n    reset() {\n        this.disposed = false;\n        //@ts-ignore\n        delete this.complete;\n        //@ts-ignore\n        delete this.next;\n        //@ts-ignore\n        delete this.dispose;\n        //@ts-ignore\n        delete this.next;\n    }\n    resetNext() {\n        //@ts-ignore\n        delete this.next;\n    }\n    resetComplete() {\n        //@ts-ignore\n        delete this.complete;\n    }\n    resetError() {\n        //@ts-ignore\n        delete this.error;\n    }\n}\nexport class Sink extends LastSink {\n    constructor(sink) {\n        super();\n        this.sink = sink;\n        sink.defer(this.bindDispose);\n    }\n    next(data) {\n        this.sink.next(data);\n    }\n    complete() {\n        this.sink.complete();\n    }\n    error(err) {\n        this.sink.error(err);\n    }\n}\nexport function deliver(c) {\n    return (...args) => (source) => (observer) => source(new c(observer, ...args));\n}\nfunction send(event, payload) {\n    window.postMessage({ source: 'fastrx-devtools-backend', payload: { event, payload } });\n}\nexport const Events = {\n    addSource(who, source) {\n        send('addSource', {\n            id: who.id,\n            name: who.toString(),\n            source: { id: source.id, name: source.toString() },\n        });\n    },\n    next(who, streamId, data) {\n        send('next', { id: who.id, streamId, data: data && data.toString() });\n    },\n    subscribe({ id, end }, sink) {\n        send('subscribe', {\n            id,\n            end,\n            sink: { nodeId: sink && sink.nodeId, streamId: sink && sink.streamId },\n        });\n    },\n    complete(who, streamId, err) {\n        send('complete', { id: who.id, streamId, err: err ? err.toString() : null });\n    },\n    defer(who, streamId) {\n        send('defer', { id: who.id, streamId });\n    },\n    pipe(who) {\n        send('pipe', {\n            name: who.toString(),\n            id: who.id,\n            source: { id: who.source.id, name: who.source.toString() },\n        });\n    },\n    update(who) {\n        send('update', { id: who.id, name: who.toString() });\n    },\n    create(who) {\n        send('create', { name: who.toString(), id: who.id });\n    },\n};\nexport class TimeoutError extends Error {\n    constructor(timeout) {\n        super(`timeout after ${timeout}ms`);\n        this.timeout = timeout;\n    }\n}\n","import { Sink, LastSink, deliver, nothing } from \"./common\";\nclass Share extends LastSink {\n    constructor(source) {\n        super();\n        this.source = source;\n        this.sinks = new Set();\n    }\n    add(sink) {\n        sink.defer(() => this.remove(sink));\n        if (this.sinks.add(sink).size === 1) {\n            this.reset();\n            this.source(this);\n        }\n    }\n    remove(sink) {\n        this.sinks.delete(sink);\n        if (this.sinks.size === 0) {\n            this.dispose();\n        }\n    }\n    next(data) {\n        this.sinks.forEach((s) => s.next(data));\n    }\n    complete() {\n        this.sinks.forEach((s) => s.complete());\n        this.sinks.clear();\n    }\n    error(err) {\n        this.sinks.forEach((s) => s.error(err));\n        this.sinks.clear();\n    }\n}\nexport const share = () => (source) => {\n    const share = new Share(source);\n    return share.add.bind(share);\n};\nexport const merge = (...sources) => (sink) => {\n    const merge = new Sink(sink);\n    let nLife = sources.length;\n    merge.complete = () => {\n        if (--nLife === 0) {\n            sink.complete();\n        }\n    };\n    sources.forEach((source) => source(merge));\n};\nexport const race = (...sources) => (sink) => {\n    const sinks = new Map();\n    sources.forEach((source) => {\n        const r = new Sink(sink);\n        sinks.set(source, r);\n        r.complete = () => {\n            sinks.delete(source);\n            if (sinks.size === 0) { //特殊情况：所有流都没有数据\n                sink.complete();\n            }\n            else {\n                r.dispose();\n            }\n        };\n        r.next = (data) => {\n            sinks.delete(source); //先排除自己，防止自己调用dispose\n            sinks.forEach((s) => s.dispose()); //其他所有流全部取消订阅\n            r.resetNext();\n            r.next(data);\n        };\n    });\n    sources.forEach((source) => source(sinks.get(source)));\n};\nexport const concat = (...sources) => (sink) => {\n    let pos = 0;\n    const len = sources.length;\n    const s = new Sink(sink);\n    s.complete = () => {\n        if (pos < len && !s.disposed) {\n            s.doDefer();\n            sources[pos++](s);\n        }\n        else\n            sink.complete();\n    };\n    s.complete();\n};\nexport const shareReplay = (bufferSize) => (source) => {\n    const share = new Share(source);\n    const buffer = [];\n    share.next = function (data) {\n        buffer.push(data);\n        if (buffer.length > bufferSize) {\n            buffer.shift();\n        }\n        this.sinks.forEach((s) => s.next(data));\n    };\n    return (sink) => {\n        sink.defer(() => share.remove(sink));\n        buffer.forEach((cache) => sink.next(cache));\n        share.add(sink);\n    };\n};\nexport const iif = (condition, trueS, falseS) => (sink) => condition() ? trueS(sink) : falseS(sink);\nexport const combineLatest = (...sources) => (sink) => {\n    const nTotal = sources.length;\n    let nRun = nTotal; //剩余未发出事件的事件流数量\n    let nLife = nTotal; //剩余未完成的事件流数量\n    const array = new Array(nTotal);\n    const onComplete = () => {\n        if (--nLife === 0)\n            sink.complete();\n    };\n    const s = (source, i) => {\n        const ss = new Sink(sink);\n        ss.next = data => {\n            if (--nRun === 0) {\n                ss.next = data => {\n                    array[i] = data;\n                    sink.next(array);\n                };\n                ss.next(data);\n            }\n            else {\n                array[i] = data;\n            }\n        };\n        ss.complete = onComplete;\n        source(ss);\n    };\n    sources.forEach(s);\n};\nexport const zip = (...sources) => (sink) => {\n    const nTotal = sources.length;\n    let nLife = nTotal; //剩余未完成的事件流数量\n    const array = new Array(nTotal);\n    const onComplete = () => {\n        if (--nLife === 0)\n            sink.complete();\n    };\n    const s = (source, i) => {\n        const ss = new Sink(sink);\n        const buffer = [];\n        array[i] = buffer;\n        ss.next = data => {\n            buffer.push(data);\n            if (array.every(x => x.length)) {\n                sink.next(array.map(x => x.shift()));\n            }\n        };\n        ss.complete = onComplete;\n        source(ss);\n    };\n    sources.forEach(s);\n};\nexport const startWith = (...xs) => (inputSource) => (sink, pos = 0, l = xs.length) => {\n    while (pos < l) {\n        if (sink.disposed)\n            return;\n        sink.next(xs[pos++]);\n    }\n    sink.disposed || inputSource(sink);\n};\nclass WithLatestFrom extends Sink {\n    constructor(sink, ...sources) {\n        super(sink);\n        const s = new Sink(this.sink);\n        s.next = (data) => (this.buffer = data);\n        s.complete = nothing;\n        combineLatest(...sources)(s);\n    }\n    next(data) {\n        if (this.buffer) {\n            this.sink.next([data, ...this.buffer]);\n        }\n    }\n}\nexport const withLatestFrom = deliver(WithLatestFrom);\nclass BufferCount extends Sink {\n    constructor(sink, bufferSize, startBufferEvery) {\n        super(sink);\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        this.buffer = [];\n        this.count = 0;\n        if (this.startBufferEvery) {\n            this.buffers = [[]];\n        }\n    }\n    next(data) {\n        if (this.startBufferEvery) {\n            if (this.count++ === this.startBufferEvery) {\n                this.buffers.push([]);\n                this.count = 1;\n            }\n            this.buffers.forEach((buffer) => {\n                buffer.push(data);\n            });\n            if (this.buffers[0].length === this.bufferSize) {\n                this.sink.next(this.buffers.shift());\n            }\n        }\n        else {\n            this.buffer.push(data);\n            if (this.buffer.length === this.bufferSize) {\n                this.sink.next(this.buffer);\n                this.buffer = [];\n            }\n        }\n    }\n    complete() {\n        if (this.buffer.length) {\n            this.sink.next(this.buffer);\n        }\n        else if (this.buffers.length) {\n            this.buffers.forEach((buffer) => this.sink.next(buffer));\n        }\n        super.complete();\n    }\n}\nexport const bufferCount = deliver(BufferCount);\n","import { Sink, deliver } from \"./common\";\nclass Reduce extends Sink {\n    constructor(sink, f, seed) {\n        super(sink);\n        this.f = f;\n        const accSet = () => {\n            this.sink.next(this.acc);\n            this.sink.complete();\n        };\n        if (typeof seed === \"undefined\") {\n            this.next = (d) => {\n                this.acc = d;\n                this.complete = accSet;\n                this.resetNext();\n            };\n        }\n        else {\n            this.acc = seed;\n            this.complete = accSet;\n        }\n    }\n    next(data) {\n        this.acc = this.f(this.acc, data);\n    }\n}\nexport const reduce = deliver(Reduce);\nexport const count = (f) => reduce((aac, c) => (f(c) ? aac + 1 : aac), 0);\nexport const max = () => reduce(Math.max);\nexport const min = () => reduce(Math.min);\nexport const sum = () => reduce((aac, c) => aac + c, 0);\n","import { Sink, deliver, nothing, dispose } from \"./common\";\nimport { reduce } from \"./mathematical\";\nimport { timer } from \"./producer\";\nclass Filter extends Sink {\n    constructor(sink, filter, thisArg) {\n        super(sink);\n        this.filter = filter;\n        this.thisArg = thisArg;\n    }\n    next(data) {\n        if (this.filter.call(this.thisArg, data)) {\n            this.sink.next(data);\n        }\n    }\n}\nexport const filter = deliver(Filter);\nclass Ignore extends Sink {\n    next(_data) { }\n}\nexport const ignoreElements = deliver(Ignore);\nclass Take extends Sink {\n    constructor(sink, count) {\n        super(sink);\n        this.count = count;\n    }\n    next(data) {\n        this.sink.next(data);\n        if (--this.count === 0) {\n            this.complete();\n        }\n    }\n}\nexport const take = deliver(Take);\nclass TakeUntil extends Sink {\n    constructor(sink, control) {\n        super(sink);\n        this._takeUntil = new Sink(this.sink);\n        this._takeUntil.next = () => {\n            this.complete();\n        };\n        this._takeUntil.complete = dispose;\n        control(this._takeUntil);\n    }\n}\nexport const takeUntil = deliver(TakeUntil);\nclass TakeWhile extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n    }\n    next(data) {\n        if (this.f(data)) {\n            this.sink.next(data);\n        }\n        else {\n            this.complete();\n        }\n    }\n}\nexport const takeWhile = deliver(TakeWhile);\nexport const takeLast = (count) => reduce((buffer, d) => {\n    buffer.push(d);\n    if (buffer.length > count)\n        buffer.shift();\n    return buffer;\n}, []);\nclass Skip extends Sink {\n    constructor(sink, count) {\n        super(sink);\n        this.count = count;\n    }\n    next(_data) {\n        if (--this.count === 0) {\n            this.next = super.next;\n        }\n    }\n}\nexport const skip = deliver(Skip);\nclass SkipUntil extends Sink {\n    constructor(sink, control) {\n        super(sink);\n        this._skipUntil = new Sink(this.sink);\n        this._skipUntil.next = () => {\n            this._skipUntil.dispose();\n            this.next = super.next;\n        };\n        this._skipUntil.complete = dispose;\n        control(this._skipUntil);\n    }\n    next(_data) {\n    }\n}\nexport const skipUntil = deliver(SkipUntil);\nclass SkipWhile extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n    }\n    next(data) {\n        if (!this.f(data)) {\n            this.next = super.next;\n            this.next(data);\n        }\n    }\n}\nexport const skipWhile = deliver(SkipWhile);\nconst defaultThrottleConfig = {\n    leading: true,\n    trailing: false,\n};\nclass _Throttle extends Sink {\n    constructor(sink, durationSelector, trailing) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this.trailing = trailing;\n    }\n    cacheValue(value) {\n        this.last = value;\n        // @ts-ignore\n        delete this.send;\n        if (this.disposed)\n            this.throttle(value);\n    }\n    send(data) {\n        this.send = nothing;\n        this.sink.next(data);\n        this.throttle(data);\n    }\n    throttle(data) {\n        this.reset();\n        this.durationSelector(data)(this);\n    }\n    next() {\n        this.complete();\n    }\n    complete() {\n        this.dispose();\n        if (this.trailing) {\n            this.send(this.last);\n        }\n    }\n}\nclass Throttle extends Sink {\n    constructor(sink, durationSelector, config = defaultThrottleConfig) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this.config = config;\n        this._throttle = new _Throttle(this.sink, this.durationSelector, this.config.trailing);\n        this._throttle.dispose();\n    }\n    next(data) {\n        if (this._throttle.disposed && this.config.leading) {\n            this._throttle.send(data);\n        }\n        else {\n            this._throttle.cacheValue(data);\n        }\n    }\n    complete() {\n        this._throttle.throttle = nothing; //最后不再启动节流\n        this._throttle.complete();\n        super.complete();\n    }\n}\nexport const throttle = deliver(Throttle);\nconst defaultAuditConfig = {\n    leading: false,\n    trailing: true,\n};\nexport const audit = (durationSelector) => throttle(durationSelector, defaultAuditConfig);\nclass _Debounce extends Sink {\n    next() {\n        this.complete();\n    }\n    complete() {\n        this.dispose();\n        this.sink.next(this.last);\n    }\n}\nclass Debounce extends Sink {\n    constructor(sink, durationSelector) {\n        super(sink);\n        this.durationSelector = durationSelector;\n        this._debounce = new _Debounce(this.sink);\n        this._debounce.dispose();\n    }\n    next(data) {\n        this._debounce.dispose();\n        this._debounce.reset();\n        this._debounce.last = data;\n        this.durationSelector(data)(this._debounce);\n    }\n    complete() {\n        this._debounce.complete();\n        super.complete();\n    }\n}\nexport const debounce = deliver(Debounce);\nexport const debounceTime = (period) => debounce((_d) => timer(period));\nclass ElementAt extends Sink {\n    constructor(sink, count, defaultValue) {\n        super(sink);\n        this.count = count;\n        this.defaultValue = defaultValue;\n    }\n    next(data) {\n        if (this.count-- === 0) {\n            this.defaultValue = data;\n            this.complete();\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('not enough elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const elementAt = deliver(ElementAt);\nexport const find = (f) => (source) => take(1)(skipWhile((d) => !f(d))(source));\nclass FindIndex extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n        this.i = 0;\n    }\n    next(data) {\n        if (this.f(data)) {\n            this.sink.next(this.i++);\n            this.complete();\n        }\n        else {\n            ++this.i;\n        }\n    }\n}\nexport const findIndex = deliver(FindIndex);\nclass First extends Sink {\n    constructor(sink, f, defaultValue) {\n        super(sink);\n        this.f = f;\n        this.defaultValue = defaultValue;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.f || this.f(data, this.index++)) {\n            this.defaultValue = data;\n            this.complete();\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const first = deliver(First);\nclass Last extends Sink {\n    constructor(sink, f, defaultValue) {\n        super(sink);\n        this.f = f;\n        this.defaultValue = defaultValue;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.f || this.f(data, this.index++)) {\n            this.defaultValue = data;\n        }\n    }\n    complete() {\n        if (this.defaultValue === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.defaultValue);\n        super.complete();\n    }\n}\nexport const last = deliver(Last);\nclass Every extends Sink {\n    constructor(sink, predicate) {\n        super(sink);\n        this.predicate = predicate;\n        this.index = 0;\n    }\n    next(data) {\n        if (!this.predicate(data, this.index++)) {\n            this.result = false;\n            this.complete();\n        }\n        else {\n            this.result = true;\n        }\n    }\n    complete() {\n        if (this.result === void 0) {\n            this.error(new Error('no elements in sequence'));\n            return;\n        }\n        else\n            this.sink.next(this.result);\n        super.complete();\n    }\n}\nexport const every = deliver(Every);\n","import { Sink, deliver, nothing } from \"./common\";\nclass Scan extends Sink {\n    constructor(sink, f, seed) {\n        super(sink);\n        this.f = f;\n        if (typeof seed === \"undefined\") {\n            this.next = (d) => {\n                this.acc = d;\n                this.resetNext();\n                this.sink.next(this.acc);\n            };\n        }\n        else {\n            this.acc = seed;\n        }\n    }\n    next(data) {\n        this.sink.next(this.acc = this.f(this.acc, data));\n    }\n}\nexport const scan = deliver(Scan);\nclass Pairwise extends Sink {\n    constructor() {\n        super(...arguments);\n        this.hasLast = false;\n    }\n    next(data) {\n        if (this.hasLast) {\n            this.sink.next([this.last, data]);\n        }\n        else {\n            this.hasLast = true;\n        }\n        this.last = data;\n    }\n}\nexport const pairwise = deliver(Pairwise);\nclass MapObserver extends Sink {\n    constructor(sink, mapper, thisArg) {\n        super(sink);\n        this.mapper = mapper;\n        this.thisArg = thisArg;\n    }\n    next(data) {\n        super.next(this.mapper.call(this.thisArg, data));\n    }\n}\nexport const map = deliver(MapObserver);\nexport const mapTo = (target) => map((_x) => target);\nclass InnerSink extends Sink {\n    constructor(sink, data, context) {\n        super(sink);\n        this.data = data;\n        this.context = context;\n    }\n    next(data) {\n        const combineResults = this.context.combineResults;\n        if (combineResults) {\n            this.sink.next(combineResults(this.data, data));\n        }\n        else {\n            this.sink.next(data);\n        }\n    }\n    // 如果complete先于context的complete触发，则激活原始的context的complete\n    tryComplete() {\n        this.context.resetComplete();\n        this.dispose();\n    }\n}\nclass Maps extends Sink {\n    constructor(sink, makeSource, combineResults) {\n        super(sink);\n        this.makeSource = makeSource;\n        this.combineResults = combineResults;\n        this.index = 0;\n    }\n    subInner(data, c) {\n        const sink = this.currentSink = new c(this.sink, data, this);\n        this.complete = this.tryComplete;\n        sink.complete = sink.tryComplete;\n        this.makeSource(data, this.index++)(sink);\n    }\n    // 如果complete先于inner的complete触发，则不传播complete\n    tryComplete() {\n        // 如果tryComplete被调用，说明currentSink已经存在\n        this.currentSink.resetComplete();\n        this.dispose();\n    }\n}\nclass _SwitchMap extends InnerSink {\n}\nclass SwitchMap extends Maps {\n    next(data) {\n        if (this.currentSink) {\n            this.currentSink.dispose();\n        }\n        this.subInner(data, _SwitchMap);\n    }\n}\nexport const switchMap = deliver(SwitchMap);\nfunction makeMapTo(f) {\n    return (innerSource, combineResults) => f(() => innerSource, combineResults);\n}\nexport const switchMapTo = makeMapTo(switchMap);\nclass _ConcatMap extends InnerSink {\n    tryComplete() {\n        this.dispose();\n        if (this.context.sources.length) {\n            this.context.subNext();\n        }\n        else {\n            this.context.resetNext();\n            this.context.resetComplete();\n        }\n    }\n}\nclass ConcatMap extends Maps {\n    constructor() {\n        super(...arguments);\n        this.sources = [];\n        this.next2 = this.sources.push.bind(this.sources);\n    }\n    next(data) {\n        this.next2(data);\n        this.subNext();\n    }\n    subNext() {\n        this.next = this.next2; //后续直接push，不触发subNext\n        this.subInner(this.sources.shift(), _ConcatMap);\n        if (this.disposed && this.sources.length === 0) {\n            // 最后一个innerSink，需要激活其真实的complete\n            this.currentSink.resetComplete();\n        }\n    }\n    tryComplete() {\n        if (this.sources.length === 0)\n            // 最后一个innerSink，需要激活其真实的complete\n            this.currentSink.resetComplete();\n        this.dispose();\n    }\n}\nexport const concatMap = deliver(ConcatMap);\nexport const concatMapTo = makeMapTo(concatMap);\nclass _MergeMap extends InnerSink {\n    tryComplete() {\n        this.context.inners.delete(this);\n        super.dispose();\n        if (this.context.inners.size === 0)\n            this.context.resetComplete();\n    }\n}\n// type __Maps<C> = C extends MapContext<infer T, infer U, infer R> ? C : never;\n// type _Maps<C> = C extends InnerSink<infer T, infer U, infer R, infer> ? Maps<T, U, R, C> : never;\nclass MergeMap extends Maps {\n    constructor() {\n        super(...arguments);\n        this.inners = new Set();\n    }\n    next(data) {\n        this.subInner(data, _MergeMap);\n        this.inners.add(this.currentSink);\n    }\n    tryComplete() {\n        // 最后一个innerSink，需要激活其真实的complete\n        if (this.inners.size === 1)\n            this.inners.forEach(s => s.resetComplete());\n        else\n            this.dispose();\n    }\n}\nexport const mergeMap = deliver(MergeMap);\nexport const mergeMapTo = makeMapTo(mergeMap);\nclass _ExhaustMap extends InnerSink {\n    dispose() {\n        this.context.resetNext();\n        super.dispose();\n    }\n}\nclass ExhaustMap extends Maps {\n    next(data) {\n        this.next = nothing;\n        this.subInner(data, _ExhaustMap);\n    }\n}\nexport const exhaustMap = deliver(ExhaustMap);\nexport const exhaustMapTo = makeMapTo(exhaustMap);\nclass TimeInterval extends Sink {\n    constructor() {\n        super(...arguments);\n        this.start = new Date();\n    }\n    next(value) {\n        this.sink.next({ value, interval: Number(new Date()) - Number(this.start) });\n        this.start = new Date();\n    }\n}\nexport const timeInterval = deliver(TimeInterval);\nclass BufferTime extends Sink {\n    constructor(sink, miniseconds) {\n        super(sink);\n        this.miniseconds = miniseconds;\n        this.buffer = [];\n        this.id = setInterval(() => {\n            this.sink.next(this.buffer.concat());\n            this.buffer.length = 0;\n        }, this.miniseconds);\n    }\n    next(data) {\n        this.buffer.push(data);\n    }\n    complete() {\n        this.sink.next(this.buffer);\n        super.complete();\n    }\n    dispose() {\n        clearInterval(this.id);\n        super.dispose();\n    }\n}\nexport const bufferTime = deliver(BufferTime);\n","import { merge, share } from \"./combination\";\nimport { nothing } from \"./common\";\nimport { takeUntil } from \"./filtering\";\nimport { pipe } from \"./pipe\";\nimport { switchMap } from \"./transformation\";\nexport const subject = (source) => {\n    const observable = share()((sink) => {\n        observable.next = (data) => sink.next(data);\n        observable.complete = () => sink.complete();\n        observable.error = (err) => sink.error(err);\n        source && source(sink);\n    });\n    observable.next = nothing;\n    observable.complete = nothing;\n    observable.error = nothing;\n    return observable;\n};\nexport const defer = (f) => (sink) => f()(sink);\nexport const of = (...data) => fromArray(data);\nconst asap = (f) => (sink) => setTimeout(() => f(sink));\nexport const fromArray = (data) => asap((sink) => {\n    for (const d of data) {\n        if (sink.disposed)\n            return;\n        sink.next(d);\n    }\n    sink.complete();\n});\nexport const interval = (period) => (sink) => {\n    let i = 0;\n    const id = setInterval(() => sink.next(i++), period);\n    sink.defer(() => { clearInterval(id); });\n};\nexport const timer = (delay, period = 0) => (sink) => {\n    let i = 0;\n    const id = setTimeout(() => {\n        sink.removeDefer(deferF);\n        sink.next(i++);\n        if (period) {\n            const id = setInterval(() => sink.next(i++), period);\n            sink.defer(() => { clearInterval(id); });\n        }\n        else {\n            sink.complete();\n        }\n    }, delay);\n    const deferF = () => { clearTimeout(id); };\n    sink.defer(deferF);\n};\nexport const fromEventPattern = (add, remove) => (sink) => {\n    const n = (d) => sink.next(d);\n    sink.defer(() => remove(n));\n    add(n);\n};\nexport const fromEvent = (target, name) => {\n    if (\"on\" in target) {\n        return fromEventPattern((h) => target.on(name, h), (h) => target.off(name, h));\n    }\n    else if (\"addListener\" in target) {\n        return fromEventPattern((h) => target.addListener(name, h), (h) => target.removeListener(name, h));\n    }\n    else if (\"addEventListener\" in target) {\n        return fromEventPattern((h) => target.addEventListener(name, h), (h) => target.removeEventListener(name, h));\n    }\n    else\n        throw 'target is not a EventDispachter';\n};\n/**\n *\n * @param {window | Worker | EventSource | WebSocket | RTCPeerConnection} target\n * @returns\n */\nexport const fromMessageEvent = (target) => (sink) => {\n    const closeOb = fromEvent(target, 'close');\n    const messageOb = fromEvent(target, 'message');\n    const errorOb = fromEvent(target, 'error');\n    pipe(merge(messageOb, switchMap(throwError)(errorOb)), takeUntil(closeOb))(sink);\n    sink.defer(() => target.close());\n};\nexport const fromPromise = (promise) => (sink) => {\n    promise.then(sink.next.bind(sink), sink.error.bind(sink));\n};\nexport const fromFetch = (input, init) => defer(() => fromPromise(fetch(input, init)));\nexport const fromIterable = (source) => asap((sink) => {\n    try {\n        for (const data of source) {\n            if (sink.disposed)\n                return;\n            sink.next(data);\n        }\n        sink.complete();\n    }\n    catch (err) {\n        sink.error(err);\n    }\n});\nexport const fromAnimationFrame = () => (sink) => {\n    let id;\n    function next(t) {\n        if (!sink.disposed) {\n            sink.next(t);\n            id = requestAnimationFrame(next);\n        }\n    }\n    id = requestAnimationFrame(next);\n    sink.defer(() => cancelAnimationFrame(id));\n};\nexport const range = (start, count) => (sink, pos = start, end = count + start) => {\n    while (pos < end && !sink.disposed)\n        sink.next(pos++);\n    sink.complete();\n};\nexport const bindCallback = (call, thisArg, ...args) => (sink) => {\n    const inArgs = args.concat((res) => (sink.next(res), sink.complete()));\n    call.apply(thisArg, inArgs);\n};\nexport const bindNodeCallback = (call, thisArg, ...args) => (sink) => {\n    const inArgs = args.concat((err, res) => err ? (sink.error(err)) : (sink.next(res), sink.complete()));\n    call.apply(thisArg, inArgs);\n};\nexport const never = () => nothing;\nexport const throwError = (e) => (sink) => sink.error(e);\nexport const empty = () => (sink) => sink.complete();\n","import { Sink, deliver, nothing, LastSink, TimeoutError } from './common';\nexport function pipe(first, ...cbs) {\n    return cbs.reduce((aac, c) => c(aac), first);\n}\nexport const toPromise = () => (source) => new Promise((resolve, reject) => {\n    let value;\n    source(new Subscribe((d) => (value = d), reject, () => resolve(value)));\n});\nexport class Subscribe extends LastSink {\n    constructor(next = nothing, _error = nothing, _complete = nothing) {\n        super();\n        this.next = next;\n        this._error = _error;\n        this._complete = _complete;\n        this.then = nothing;\n    }\n    complete() {\n        this.dispose();\n        this._complete();\n    }\n    error(err) {\n        this.dispose();\n        this._error(err);\n    }\n}\n// //SUBSCRIBER\nexport const subscribe = (n = nothing, e = nothing, c = nothing) => (source) => {\n    const sink = new Subscribe(n, e, c);\n    source(sink);\n    return sink;\n};\n// // UTILITY\nexport const tap = (ob) => (source) => (sink) => {\n    const observer = new Sink(sink);\n    if (ob instanceof Function) {\n        observer.next = (data) => { ob(data); sink.next(data); };\n    }\n    else {\n        if (ob.next)\n            observer.next = (data) => { ob.next(data); sink.next(data); };\n        if (ob.complete)\n            observer.complete = () => { ob.complete(); sink.complete(); };\n        if (ob.error)\n            observer.error = (err) => { ob.error(err); sink.error(err); };\n    }\n    source(observer);\n};\nclass Delay extends Sink {\n    constructor(sink, delay) {\n        super(sink);\n        this.buffer = [];\n        this.delayTime = delay;\n    }\n    dispose() {\n        clearTimeout(this.timeoutId);\n        super.dispose();\n    }\n    delay(delay) {\n        this.timeoutId = setTimeout(() => {\n            const d = this.buffer.shift();\n            if (d) {\n                const { time: lastTime, data } = d;\n                super.next(data);\n                if (this.buffer.length) {\n                    this.delay(Number(this.buffer[0].time) - Number(lastTime));\n                }\n            }\n        }, delay);\n    }\n    next(data) {\n        if (!this.buffer.length) {\n            this.delay(this.delayTime);\n        }\n        this.buffer.push({ time: new Date(), data });\n    }\n    complete() {\n        this.timeoutId = setTimeout(() => super.complete(), this.delayTime);\n    }\n}\nexport const delay = deliver(Delay);\nclass CatchError extends Sink {\n    constructor(sink, selector) {\n        super(sink);\n        this.selector = selector;\n    }\n    error(err) {\n        this.dispose();\n        this.selector(err)(this.sink);\n    }\n}\nexport const catchError = deliver(CatchError);\nimport { subject } from './producer';\nclass GroupBy extends Sink {\n    constructor(sink, f) {\n        super(sink);\n        this.f = f;\n        this.groups = new Map();\n    }\n    next(data) {\n        const key = this.f(data);\n        let group = this.groups.get(key);\n        if (typeof group === 'undefined') {\n            group = subject();\n            group.key = key;\n            this.groups.set(key, group);\n            super.next(group);\n        }\n        group.next(data);\n    }\n    complete() {\n        this.groups.forEach((group) => group.complete());\n        super.complete();\n    }\n    error(err) {\n        this.groups.forEach((group) => group.error(err));\n        super.error(err);\n    }\n}\nexport const groupBy = deliver(GroupBy);\nclass Timeout extends Sink {\n    constructor(sink, timeout) {\n        super(sink);\n        this.timeout = timeout;\n        this.id = setTimeout(() => this.error(new TimeoutError(this.timeout)), this.timeout);\n    }\n    next(data) {\n        super.next(data);\n        clearTimeout(this.id);\n        this.next = super.next;\n    }\n    dispose() {\n        clearTimeout(this.id);\n        super.dispose();\n    }\n}\nexport const timeout = deliver(Timeout);\n","import { Events, Sink } from \"./common\";\nimport * as fastrx from './index';\nlet COUNT = 0;\nexport class Node {\n    constructor(name = '', arg = []) {\n        this.name = name;\n        this.arg = arg;\n        this.id = COUNT++;\n        switch (name) {\n            case 'subscribe':\n            case 'toPromise':\n            case 'toRef':\n                this.end = true;\n                break;\n            default:\n                this.end = false;\n        }\n        Events.create(this);\n        if (arg.length) {\n            this.args = arg;\n        }\n    }\n    toString() {\n        return `${typeof this.name == 'string' ? this.name : this.name.name}(${this.arg\n            .map((x) => typeof x == 'object' || typeof x == 'function'\n            ? (typeof x.name == 'function' ? x.name.name : x.name) || '...'\n            : x)\n            .join(',')})`;\n    }\n    get unProxy() {\n        return this;\n    }\n    //是否属于子流\n    checkSubNode(x) {\n        if (\"unProxy\" in x) {\n            const isNode = x.unProxy;\n            Events.addSource(this, isNode),\n                (s) => {\n                    s.nodeId = this.id;\n                    s.streamId = 0;\n                    isNode.subscribe(s);\n                };\n        }\n        else if (typeof x == 'function') {\n            (...arg) => this.checkSubNode(x(...arg));\n        }\n        return x;\n    }\n    //过滤子事件流，放入sources数组中，就能显示\n    set args(value) {\n        this.arg = value.map((x) => this.checkSubNode(x));\n    }\n    // 通过返回proxy产生链式调用\n    pipe() {\n        if (this.end) {\n            return this.subscribe();\n        }\n        const target = this;\n        return new Proxy((sink) => this.subscribe(sink), {\n            get(_, prop) {\n                if (prop != 'subscribe' && (prop in target))\n                    // @ts-ignore\n                    return target[prop];\n                if (prop == 'subscribe' && target.subscribeSink)\n                    return target.subscribeSink;\n                const sink = target.createSink(prop);\n                return (target.subscribeSink = (...args) => {\n                    sink.args = args;\n                    Events.update(sink);\n                    return sink.pipe();\n                });\n            },\n        });\n    }\n    createSink(name) {\n        const sink = new Node(name);\n        sink.source = this;\n        Events.pipe(sink);\n        return sink;\n    }\n    subscribe(sink) {\n        const { source, name, arg } = this;\n        // @ts-ignore\n        const realrx = typeof name == 'string' ? fastrx[name](...arg) : name;\n        let f = source && !this.end\n            ? realrx((s) => {\n                s.streamId = streamCount - 1;\n                s.nodeId = this.id;\n                source.subscribe(s);\n            })\n            : realrx;\n        let streamCount = 0;\n        this.subscribe = function (sink) {\n            const streamId = streamCount++;\n            if (sink) {\n                const newSink = new Sink(sink);\n                newSink.next = (data) => {\n                    Events.next(this, streamId, data);\n                    sink.next(data);\n                };\n                newSink.complete = () => {\n                    Events.complete(this, streamId);\n                    sink.complete();\n                };\n                newSink.error = (err) => {\n                    Events.complete(this, streamId, err);\n                    sink.error(err);\n                };\n                newSink.defer(() => {\n                    Events.defer(this, streamId);\n                });\n                Events.subscribe(this, sink);\n                f(newSink);\n                return newSink;\n            }\n            return f((s) => {\n                const { next, complete, error } = s;\n                s.next = (data) => {\n                    Events.next(this, streamId, data);\n                    next(data);\n                };\n                s.error = (err) => {\n                    Events.complete(this, streamId, err);\n                    error(err);\n                };\n                s.complete = () => {\n                    Events.complete(this, streamId);\n                    complete();\n                };\n                s.streamId = streamId;\n                s.nodeId = this.id;\n                Events.subscribe(this);\n                source.subscribe(s);\n            });\n        };\n        return this.subscribe(sink);\n    }\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n// @ts-nocheck\nimport { tap, delay, timeout, catchError, groupBy, subscribe, toPromise } from './pipe';\nimport { Node } from './devtools';\nimport * as producer from './producer';\nimport * as filtering from './filtering';\nimport * as mathematical from './mathematical';\nimport * as transformation from './transformation';\nimport * as combination from './combination';\nexport * from './index';\nconst { zip, merge, race, concat, combineLatest } = combination, combinations = __rest(combination, [\"zip\", \"merge\", \"race\", \"concat\", \"combineLatest\"]);\nconst observables = Object.assign({ zip, merge, race, concat, combineLatest }, producer);\nconst operators = Object.assign(Object.assign(Object.assign(Object.assign({ tap, delay, timeout, catchError, groupBy }, combinations), filtering), mathematical), transformation);\nfunction inspect() {\n    return typeof window != 'undefined' && window.__FASTRX_DEVTOOLS__;\n}\nconst rxProxy = {\n    get: (target, prop) => {\n        switch (prop) {\n            case \"subscribe\":\n                (...args) => subscribe(...args)(target);\n            case \"toPromise\":\n                return () => toPromise()(target);\n            default:\n                return ((operator) => (...args) => new Proxy(operator(...args)(target), rxProxy))(operators[prop]);\n        }\n    }\n};\nexport const rx = new Proxy((f) => (inspect() ? new Node(f).pipe() : new Proxy(f, rxProxy)), {\n    get: (_target, prop) => inspect()\n        ? (...arg) => new Node(prop, arg).pipe()\n        : ((observable) => (...args) => new Proxy(observable(...args), rxProxy))(observables[prop]),\n    // @ts-ignore\n    set: (_target, prop, value) => (observables[prop] = value),\n});\n"],"names":["nothing","call","f","identity","x","dispose","LastSink","defers","Set","disposed","data","err","complete","error","next","doDefer","forEach","clear","df","add","delete","Sink","sink","defer","bindDispose","deliver","c","args","source","observer","send","event","payload","window","postMessage","Events","addSource","who","id","name","toString","streamId","subscribe","end","nodeId","pipe","update","create","TimeoutError","timeout","Error","Share","sinks","remove","size","reset","s","share","bind","merge","sources","nLife","length","race","Map","r","set","resetNext","get","concat","pos","len","shareReplay","bufferSize","buffer","push","shift","cache","iif","condition","trueS","falseS","combineLatest","nTotal","nRun","array","Array","onComplete","i","ss","zip","every","map","startWith","xs","inputSource","l","WithLatestFrom","withLatestFrom","BufferCount","startBufferEvery","count","buffers","bufferCount","Reduce","seed","accSet","acc","d","reduce","aac","max","Math","min","sum","Filter","filter","thisArg","Ignore","_data","ignoreElements","Take","take","TakeUntil","control","_takeUntil","takeUntil","TakeWhile","takeWhile","takeLast","Skip","skip","SkipUntil","_skipUntil","skipUntil","SkipWhile","skipWhile","defaultThrottleConfig","leading","trailing","_Throttle","durationSelector","value","last","throttle","Throttle","config","_throttle","cacheValue","defaultAuditConfig","audit","_Debounce","Debounce","_debounce","debounce","debounceTime","period","_d","timer","ElementAt","defaultValue","elementAt","find","FindIndex","findIndex","First","index","first","Last","Every","predicate","result","Scan","scan","Pairwise","arguments","hasLast","pairwise","MapObserver","mapper","mapTo","target","_x","InnerSink","context","combineResults","resetComplete","Maps","makeSource","currentSink","tryComplete","_SwitchMap","SwitchMap","subInner","switchMap","makeMapTo","innerSource","switchMapTo","_ConcatMap","subNext","ConcatMap","next2","concatMap","concatMapTo","_MergeMap","inners","MergeMap","mergeMap","mergeMapTo","_ExhaustMap","ExhaustMap","exhaustMap","exhaustMapTo","TimeInterval","start","Date","interval","Number","timeInterval","BufferTime","miniseconds","setInterval","clearInterval","bufferTime","subject","observable","of","fromArray","asap","setTimeout","delay","removeDefer","deferF","clearTimeout","fromEventPattern","n","fromEvent","h","on","off","addListener","removeListener","addEventListener","removeEventListener","fromMessageEvent","closeOb","messageOb","errorOb","throwError","close","fromPromise","promise","then","fromFetch","input","init","fetch","fromIterable","fromAnimationFrame","t","requestAnimationFrame","cancelAnimationFrame","range","bindCallback","inArgs","res","apply","bindNodeCallback","never","e","empty","cbs","toPromise","Promise","resolve","reject","Subscribe","_error","_complete","tap","ob","Function","Delay","delayTime","timeoutId","lastTime","time","CatchError","selector","catchError","GroupBy","groups","key","group","groupBy","Timeout","COUNT","Node","arg","join","isNode","unProxy","checkSubNode","Proxy","_","prop","subscribeSink","createSink","realrx","fastrx","streamCount","newSink","__rest","this","p","Object","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","combination","combinations","observables","assign","producer","operators","filtering","mathematical","transformation","inspect","__FASTRX_DEVTOOLS__","rxProxy","operator","rx","_target"],"mappings":"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"}
{"version":3,"file":"cjs.js","sources":["../common.js","../combination.js","../mathematical.js","../fusion.js","../filtering.js","../producer.js","../transformation.js","../pipe.js","../devtools.js","../index.js"],"sourcesContent":["export function noop() {}\n\n//第一次调用有效\nexport const once =\n  (f) =>\n  (...args) => {\n    if (f) {\n      let r = f(...args);\n      f = null;\n      return r;\n    }\n  };\n\nexport class Sink {\n  constructor(sink, ...args) {\n    this.defers = new Set();\n    this.sink = sink;\n    this.init(...args);\n    if (sink) sink.defers.add(this);\n  }\n  init() {}\n  set disposePass(value) {\n    if (!this.sink) return;\n    if (value) this.sink.defers.add(this);\n    else this.sink.defers.delete(this);\n  }\n  next(data) {\n    this.sink && this.sink.next(data);\n  }\n  complete(err) {\n    this.sink && this.sink.complete(err);\n    this.dispose(false);\n  }\n  error(err) {\n    this.complete(err);\n  }\n  dispose(defer = true) {\n    this.disposed = true;\n    this.complete = noop;\n    this.next = noop;\n    this.dispose = noop;\n    this.subscribes = this.subscribe = noop;\n    defer && this.defer(); //销毁时终止事件源\n  }\n  defer(add) {\n    if (add) {\n      this.defers.add(add);\n    } else {\n      this.defers.forEach((defer) => {\n        switch (true) {\n          case defer.dispose != void 0:\n            defer.dispose();\n            break;\n          case typeof defer == 'function':\n            defer();\n            break;\n          case defer.length > 0:\n            {\n              let [f, thisArg, ...args] = defer;\n              if (f.call) f.call(thisArg, ...args);\n              else f(...args);\n            }\n            break;\n        }\n      });\n      this.defers.clear();\n    }\n  }\n  subscribe(source) {\n    source(this);\n    return this;\n  }\n  subscribes(sources) {\n    sources.forEach((source) => source(this));\n  }\n}\nclass Asap {\n  constructor() {\n    this.asaps = [];\n    this._asaps = [];\n  }\n  push(task) {\n    this.asaps.push(task);\n  }\n  _push(task) {\n    this._asaps.push(task);\n  }\n  run(task) {\n    this.run = this.push;\n    if (task) this.asaps.push(task);\n    Promise.resolve(this).then((_this) => {\n      _this.run = _this._push;\n      for (let i = 0, l = _this.asaps.length; i < l; i++) {\n        _this.asaps[i]();\n      }\n      _this.asaps = _this._asaps;\n      _this._asaps = [];\n      delete _this.run;\n      if (_this.asaps.length) {\n        _this.run();\n      }\n    });\n  }\n}\n\nconst _asap = new Asap();\n\nexport function asap(task, defer) {\n  _asap.run(task);\n  return defer;\n}\n\nexport const deliver =\n  (Class) =>\n  (...args) =>\n  (source) =>\n  (sink) =>\n    source(new Class(sink, ...args));\n","/* eslint-disable no-fallthrough */\nimport { Sink, deliver, noop } from './common';\nclass Share extends Sink {\n  init(source) {\n    this.source = source;\n    this.sinks = new Set();\n  }\n  add(sink) {\n    this.sinks.add(sink);\n    if (this.sinks.size === 1) {\n      this.source(this);\n    }\n  }\n  remove(sink) {\n    this.sinks.delete(sink);\n    if (this.sinks.size === 0) {\n      this.defer();\n    }\n  }\n  next(data) {\n    this.sinks.forEach((s) => s.next(data));\n  }\n  complete(err) {\n    this.sinks.forEach((s) => s.complete(err));\n    this.sinks.clear();\n  }\n}\nexport const share = () => (source) => {\n  const share = new Share(null, source);\n  return (sink) => {\n    sink.defer([share.remove, share, sink]);\n    share.add(sink);\n  };\n};\nexport const shareReplay = (bufferSize) => (source) => {\n  const share = new Share(null, source);\n  const buffer = [];\n  share.next = function (data) {\n    buffer.push(data);\n    if (buffer.length > bufferSize) {\n      buffer.shift();\n    }\n    this.sinks.forEach((s) => s.next(data));\n  };\n  return (sink) => {\n    sink.defer([share.remove, share, sink]);\n    buffer.forEach((cache) => sink.next(cache));\n    share.add(sink);\n  };\n};\nexport const iif = (condition, trueS, falseS) => (sink) => condition() ? trueS(sink) : falseS(sink);\nclass Race extends Sink {\n  init(nLife) {\n    this.nLife = nLife;\n  }\n  next(data) {\n    this.defer();\n    this.sink.next(data);\n    super.complete();\n  }\n  complete(err) {\n    if (--this.nLife === 0) super.complete(err);\n  }\n}\nexport const race =\n  (...sources) =>\n  (sink) =>\n    new Race(sink, sources.length).subscribes(sources);\nclass Concat extends Sink {\n  init(sources) {\n    this.sources = sources;\n    this.pos = 0;\n    this.len = sources.length;\n  }\n  complete(err) {\n    if (err) {\n      super.complete(err);\n      return;\n    }\n    if (this.pos < this.len && !this.disposed) this.sources[this.pos++](this);\n    else super.complete();\n  }\n}\nexport const concat =\n  (...sources) =>\n  (sink) =>\n    new Concat(sink, sources).complete();\n\nclass Merge extends Sink {\n  init(nLife) {\n    this.nLife = nLife;\n  }\n  complete() {\n    if (--this.nLife === 0) super.complete();\n  }\n}\nexport const mergeArray = (sources) => (sink) =>\n  new Merge(sink, sources.length).subscribes(sources);\nexport const merge =\n  (...sources) =>\n  (sink) =>\n    new Merge(sink, sources.length).subscribes(sources);\nclass CombineLatest extends Sink {\n  init(index, array, context) {\n    this.index = index;\n    this.context = context;\n    this.state = 0;\n    this.array = array;\n  }\n  next(data) {\n    switch (this.state) {\n      case 0:\n        ++this.context.nRun;\n        this.state = 1;\n      case 1:\n        if (this.context.nRun === this.context.nTotal) {\n          this.state = 2;\n        } else {\n          this.array[this.index] = data;\n          break;\n        }\n      case 2:\n        this.array[this.index] = data;\n        this.sink.next(this.array);\n        break;\n    }\n  }\n  complete(err) {\n    if (err || --this.context.nLife === 0) super.complete(err);\n  }\n}\nexport const combineLatest =\n  (...sources) =>\n  (sink) => {\n    const nTotal = sources.length;\n    const context = {\n      nTotal,\n      nLife: nTotal,\n      nRun: 0,\n    };\n    const array = new Array(nTotal);\n    // const defers = new Array(nTotal)\n    // for (let i = 0; i < nTotal; ++i) defers[i] = sources[i](new CombineLatest(sink, i, array, context))\n    sources.forEach((source, i) => source(new CombineLatest(sink, i, array, context)));\n  };\nclass WithLatestFrom extends Sink {\n  init(...sources) {\n    this._withLatestFrom = new Sink(this.sink);\n    this._withLatestFrom.next = (data) => (this.buffer = data);\n    this._withLatestFrom.complete = noop;\n    exports.combineLatest(...sources)(this._withLatestFrom);\n  }\n  next(data) {\n    if (this.buffer) {\n      this.sink.next([data].concat(this.buffer));\n    }\n  }\n  complete(err) {\n    this._withLatestFrom.dispose();\n    super.complete(err);\n  }\n}\nexport const withLatestFrom = deliver(WithLatestFrom);\nclass Zip extends Sink {\n  init(index, array, context) {\n    this.index = index;\n    this.context = context;\n    this.array = array;\n    this.buffer = [];\n    array[index] = this.buffer;\n  }\n  next(data) {\n    this.buffer.push(data);\n    if (this.array.every((x) => x.length)) {\n      this.sink.next(this.array.map((x) => x.shift()));\n    }\n  }\n  complete(err) {\n    if (err || --this.context.nLife === 0) super.complete(err);\n  }\n}\nexport const zip =\n  (...sources) =>\n  (sink) => {\n    const nTotal = sources.length;\n    const context = {\n      nTotal,\n      nLife: nTotal,\n    };\n    const array = new Array(nTotal);\n    sources.forEach((source, i) => source(new Zip(sink, i, array, context)));\n  };\n\nexport const startWith =\n  (...xs) =>\n  (inputSource) =>\n  (sink, pos = 0, l = xs.length) => {\n    while (pos < l) {\n      if (sink.disposed) return;\n      sink.next(xs[pos++]);\n    }\n    sink.disposed || inputSource(sink);\n  };\n\nclass BufferCount extends Sink {\n  init(bufferSize, startBufferEvery) {\n    this.bufferSize = bufferSize;\n    this.startBufferEvery = startBufferEvery;\n    this.buffer = [];\n    if (startBufferEvery) {\n      this.buffers = [[]];\n      this.count = 0;\n    }\n  }\n  next(data) {\n    if (this.startBufferEvery) {\n      if (this.count++ === this.startBufferEvery) {\n        this.buffers.push([]);\n        this.count = 1;\n      }\n      this.buffers.forEach((buffer) => {\n        buffer.push(data);\n      });\n      if (this.buffers[0].length === this.bufferSize) {\n        this.sink.next(this.buffers.shift());\n      }\n    } else {\n      this.buffer.push(data);\n      if (this.buffer.length === this.bufferSize) {\n        this.sink.next(this.buffer);\n        this.buffer = [];\n      }\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.buffer.length) {\n        this.sink.next(this.buffer);\n      } else if (this.buffers.size) {\n        this.buffers.forEach((buffer) => this.sink.next(buffer));\n      }\n    }\n    super.complete(err);\n  }\n}\n\nexport const bufferCount = deliver(BufferCount);\n","import { Sink } from './common';\nclass Reduce extends Sink {\n  init(hasSeed, f, seed) {\n    this.f = f;\n    this.aac = seed;\n    if (!hasSeed) {\n      this.next = (d) => {\n        delete this.next;\n        this.aac = d;\n      };\n    }\n  }\n  next(data) {\n    const f = this.f;\n    this.aac = f(this.aac, data);\n  }\n  complete(err) {\n    err || this.sink.next(this.aac);\n    super.complete(err);\n  }\n}\nexport const reduce =\n  (...args) =>\n  (source) =>\n  (sink) =>\n    source(new Reduce(sink, args.length === 2, ...args));\nexport const count = (f) => reduce((aac, c) => (f(c) ? aac + 1 : aac), 0);\nexport const max = () => reduce(Math.max);\nexport const min = () => reduce(Math.min);\nexport const sum = () => reduce((aac, c) => aac + c, 0);\n","import { Sink } from './common';\n\nfunction compose(g, f) {\n  return (x) => g(f(x));\n}\n\nfunction and(a, b) {\n  return (x) => a(x) && b(x);\n}\nexport class Filter extends Sink {\n  init(f) {\n    this.f = f;\n  }\n  next(data) {\n    const f = this.f;\n    f(data) && this.sink.next(data);\n  }\n  fusionFilter(f) {\n    this.f = and(f, this.f);\n    return this;\n    // return new Filter(this.sink, this.and(f, this.f))\n  }\n}\nclass FilterMapSink extends Sink {\n  init(f, m) {\n    this.f = f;\n    this.m = m;\n  }\n  next(data) {\n    const f = this.f;\n    const m = this.m;\n    f(data) && this.sink.next(m(data));\n  }\n  fusionFilter(f) {\n    this.f = and(f, this.f);\n    return this;\n    // return new Filter(this, f)\n  }\n}\nexport class MapSink extends Sink {\n  init(f) {\n    this.f = f;\n  }\n  next(data) {\n    const f = this.f;\n    this.sink.next(f(data));\n  }\n  fusionFilter(f) {\n    this.disposePass = false;\n    this.dispose(false);\n    return new FilterMapSink(this.sink, f, this.f);\n  }\n  fusionMap(f) {\n    this.f = compose(this.f, f);\n    return this;\n    // return new MapSink(this.sink, this.compose(this.f, f))\n  }\n}\n","import { Sink, deliver, noop } from './common';\nimport { reduce } from './mathematical';\nimport { Filter } from './fusion';\nexport const filter = (f) => (source) => (sink) =>\n  source(sink.fusionFilter ? sink.fusionFilter(f) : new Filter(sink, f));\n\nclass Ignore extends Sink {\n  next() {}\n}\nexport const ignoreElements = (source) => (sink) => source(new Ignore(sink));\n\nclass Take extends Sink {\n  init(count) {\n    this.count = count;\n  }\n  next(data) {\n    this.sink.next(data);\n    if (--this.count === 0) {\n      this.defer();\n      this.complete();\n    }\n  }\n}\nexport const take = deliver(Take);\n\nclass TakeUntil extends Sink {\n  init(sSrc) {\n    this._takeUntil = new Sink(this.sink);\n    this._takeUntil.next = () => {\n      this.defer();\n      this.complete();\n    };\n    this._takeUntil.complete = noop;\n    sSrc(this._takeUntil);\n  }\n  complete(err) {\n    //完成事件，单方面终结开关sink\n    this._takeUntil.dispose();\n    super.complete(err);\n  }\n}\n\nexport const takeUntil = deliver(TakeUntil);\n\nclass TakeWhile extends Sink {\n  init(f) {\n    this.f = f;\n  }\n  next(data) {\n    const f = this.f;\n    if (f(data)) {\n      this.sink.next(data);\n    } else {\n      this.defer();\n      this.complete();\n    }\n  }\n}\nexport const takeWhile = deliver(TakeWhile);\n\nexport const takeLast = (count) =>\n  reduce((buffer, d) => {\n    buffer.push(d);\n    if (buffer.length > count) buffer.shift();\n    return buffer;\n  }, []);\n\nclass Skip extends Sink {\n  init(count) {\n    this.count = count;\n  }\n  next() {\n    if (--this.count === 0) {\n      this.next = super.next;\n    }\n  }\n}\nexport const skip = deliver(Skip);\n\nclass _SkipUntil extends Sink {\n  next() {\n    this.dispose();\n    delete this.sourceSink.next;\n  }\n  init(sourceSink) {\n    this.sourceSink = sourceSink;\n  }\n}\n\nclass SkipUntil extends Sink {\n  init(sSrc) {\n    this._skipUntil = new _SkipUntil(null, this).subscribe(sSrc);\n    this.defer(this._skipUntil);\n    this.next = noop;\n  }\n  complete(err) {\n    this._skipUntil.dispose();\n    super.complete(err);\n  }\n}\nexport const skipUntil = deliver(SkipUntil);\n\nclass SkipWhile extends Sink {\n  init(f) {\n    this.f = f;\n  }\n  next(data) {\n    const f = this.f;\n    if (!f(data)) {\n      this.next = super.next;\n      this.next(data);\n    }\n  }\n}\nexport const skipWhile = deliver(SkipWhile);\n\nconst defaultThrottleConfig = {\n  leading: true,\n  trailing: false,\n};\nclass _Throttle extends Sink {\n  init(durationSelector, trailing) {\n    this.durationSelector = durationSelector;\n    this.trailing = trailing;\n    this.hasValue = true;\n    this.isComplete = false;\n  }\n  send(data) {\n    if (this.hasValue) {\n      this.sink.next(data);\n      this.isComplete = false;\n      this.durationSelector(data)(this);\n    }\n    this.hasValue = false;\n  }\n  next() {\n    this.complete();\n  }\n  complete() {\n    this.defer();\n    this.isComplete = true;\n    if (this.trailing) {\n      this.send(this.last);\n    }\n  }\n}\nclass Throttle extends Sink {\n  init(durationSelector, config = defaultThrottleConfig) {\n    this.durationSelector = durationSelector;\n    this.leading = config.leading;\n    this.trailing = config.trailing;\n    this.hasValue = false;\n  }\n\n  throttle(data) {\n    this._throttle.isComplete = false;\n    this._throttle.last = data;\n    this._throttle.hasValue = true;\n    this.durationSelector(data)(this._throttle);\n  }\n  next(data) {\n    if (!this._throttle || this._throttle.isComplete) {\n      if (!this._throttle) {\n        this._throttle = new _Throttle(this.sink, this.durationSelector, this.trailing);\n        this.defer(this._throttle);\n      }\n\n      if (this.leading) {\n        this.sink.next(data);\n        this.throttle(data);\n        this._throttle.hasValue = false;\n      } else {\n        this.throttle(data);\n      }\n    } else {\n      this._throttle.last = data;\n      this._throttle.hasValue = true;\n    }\n  }\n  complete(err) {\n    if (err) {\n      this._throttle && this._throttle.dispose();\n      super.complete(err);\n    } else {\n      this._throttle && this._throttle.complete();\n      super.complete();\n    }\n  }\n}\nexport const throttle = deliver(Throttle);\nconst defaultAuditConfig = {\n  leading: false,\n  trailing: true,\n};\nexport const audit = (durationSelector) => throttle(durationSelector, defaultAuditConfig);\nclass ThrottleTime extends Sink {\n  init(period, config = defaultThrottleConfig) {\n    this.config = config;\n    this.period = period;\n    this.timerId = null;\n  }\n  next(data) {\n    if (this.timerId) {\n      this.last = data;\n      this.hasValue = true;\n    } else {\n      this.timerId = setTimeout(() => {\n        this.timerId = null;\n        if (this.config.trailing && this.hasValue) {\n          this.sink.next(this.last);\n        }\n      }, this.period);\n      if (this.config.leading) {\n        this.sink.next(data);\n      } else {\n        this.last = data;\n        this.hasValue = true;\n      }\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.config.trailing && this.hasValue) {\n        this.sink.next(this.last);\n      }\n    }\n    super.complete(err);\n  }\n}\nexport const throttleTime = deliver(ThrottleTime);\nclass DebounceTime extends Sink {\n  init(period) {\n    this.period = period;\n    this.timerId = null;\n  }\n  next(data) {\n    this.buffer = data;\n    if (this.timerId) {\n      clearTimeout(this.timerId);\n    }\n    this.timerId = setTimeout(() => {\n      this.sink.next(data);\n      this.timerId = null;\n    }, this.period);\n  }\n  complete(error) {\n    if (this.timerId) {\n      clearTimeout(this.timerId);\n      if (!error && this.hasOwnProperty('buffer')) {\n        this.sink.next(this.buffer);\n      }\n    }\n    super.complete(error);\n  }\n}\n\nexport const debounceTime = deliver(DebounceTime);\n\nclass _Debounce extends Sink {\n  next() {\n    this.complete();\n  }\n  complete(err) {\n    this.defer();\n    this.sink.next(this.last);\n    this.isComplete = true;\n  }\n}\nclass Debounce extends Sink {\n  init(durationSelector) {\n    this.durationSelector = durationSelector;\n  }\n  next(data) {\n    if (!this._debounce) {\n      this._debounce = new _Debounce(this.sink);\n      this.defer(this._debounce);\n    } else if (this._debounce.isComplete) {\n      this._debounce.isComplete = false;\n    } else {\n      this._debounce.defer();\n    }\n    this.durationSelector(data)(this._debounce);\n    this._debounce.last = data;\n  }\n  complete(err) {\n    if (err) {\n      this._debounce && this._debounce.dispose();\n      super.complete(err);\n    } else {\n      this._debounce && this._debounce.complete();\n      super.complete();\n    }\n  }\n}\n\nexport const debounce = deliver(Debounce);\nclass ElementAt extends Sink {\n  init(count, defaultValue) {\n    this.count = count;\n    this.value = defaultValue;\n  }\n  next(data) {\n    if (this.count-- === 0) {\n      this.sink.next(data);\n      this.defer();\n      super.complete();\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.value === void 0) err = new Error('not enough elements in sequence');\n      else this.sink.next(this.value);\n    }\n    super.complete(err);\n  }\n}\n\nexport const elementAt = deliver(ElementAt);\nexport const find = (f) => (source) => take(1)(skipWhile((d) => !f(d))(source));\n\nclass FindIndex extends Sink {\n  init(f) {\n    this.f = f;\n    this.i = 0;\n  }\n  next(data) {\n    const f = this.f;\n    if (f(data)) {\n      this.sink.next(this.i++);\n      this.defer();\n      this.complete();\n    } else {\n      ++this.i;\n    }\n  }\n}\n\nexport const findIndex = deliver(FindIndex);\n\nclass First extends Sink {\n  init(f, defaultValue) {\n    this.f = f;\n    this.value = defaultValue;\n    this.count = 0;\n  }\n  next(data) {\n    const f = this.f;\n    if (!f || f(data, this.count++)) {\n      this.value = data;\n      this.defer();\n      this.complete();\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.value === void 0) err = new Error('no elements in sequence');\n      else this.sink.next(this.value);\n    }\n    super.complete(err);\n  }\n}\n\nexport const first = deliver(First);\n\nclass Last extends Sink {\n  init(f, defaultValue) {\n    this.f = f;\n    this.value = defaultValue;\n    this.count = 0;\n  }\n  next(data) {\n    const f = this.f;\n    if (!f || f(data, this.count++)) {\n      this.value = data;\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.value === void 0) err = new Error('no elements in sequence');\n      else this.sink.next(this.value);\n    }\n    super.complete(err);\n  }\n}\n\nexport const last = deliver(Last);\n\nclass Every extends Sink {\n  init(f) {\n    this.f = f;\n    this.ret = void 0;\n  }\n  next(data) {\n    const f = this.f;\n    if (!f(data)) {\n      this.ret = false;\n      this.defer();\n      this.complete();\n    } else {\n      this.ret = true;\n    }\n  }\n  complete(err) {\n    if (!err) {\n      if (this.ret === void 0) err = new Error('no elements in sequence');\n      else this.sink.next(true);\n    }\n    super.complete(err);\n  }\n}\n\nexport const every = deliver(Every);\n","import { noop } from './common';\nimport { share } from './combination';\nexport const subject = (source) => {\n  let subSink = null;\n  const observable = share()((sink) => {\n    subSink = sink;\n    source && source(subSink);\n  });\n  observable.next = (d) => subSink && subSink.next(d);\n  observable.complete = () => subSink && subSink.complete();\n  observable.error = (err) => subSink && subSink.complete(err);\n  return observable;\n};\n\nexport const fromArray = (array) => (sink) => {\n  let pos = 0;\n  const l = array.length;\n  while (pos < l && !sink.disposed) sink.next(array[pos++]);\n  sink.complete();\n};\nexport const of = (...items) => fromArray(items);\nexport const interval = (period) => (sink) => {\n  let i = 0;\n  sink.defer([clearInterval, , setInterval(() => sink.next(i++), period)]);\n};\nexport const timer = (delay, period) => (sink) => {\n  const defer = [\n    clearTimeout,\n    ,\n    setTimeout(() => {\n      if (period) {\n        defer[0] = clearInterval;\n        let i = 0;\n        defer[2] = setInterval(() => sink.next(i++), period);\n      } else {\n        sink.next(0);\n        sink.complete();\n      }\n    }, delay),\n  ];\n  sink.defer(defer);\n};\nexport const fromAnimationFrame = () => (sink) => {\n  function next(t) {\n    sink.next(t);\n    defer[2] = requestAnimationFrame(next);\n  }\n  const defer = [cancelAnimationFrame, , requestAnimationFrame(next)];\n  sink.defer(defer);\n};\nexport const fromEventPattern = (add, remove) => (sink) => {\n  const n = (d) => sink.next(d);\n  sink.defer([remove, , n]);\n  add(n);\n};\nexport const fromEvent = (target, name) => {\n  const addF = ['on', 'addEventListener', 'addListener'].find(\n    (x) => typeof target[x] == 'function'\n  );\n  const removeF = ['off', 'removeEventListener', 'removeListener'].find(\n    (x) => typeof target[x] == 'function'\n  );\n  if (addF && removeF)\n    return fromEventPattern(\n      (handler) => target[addF](name, handler),\n      (handler) => target[removeF](name, handler)\n    );\n  else throw 'target is not a EventDispachter';\n};\nexport const fromVueEvent = (vm, name) => (sink) => {\n  const ls = (e) => sink.next(e);\n  vm.$on(name, ls);\n  sink.defer([vm.$off, vm, ls]);\n};\nexport const fromVueEventOnce = (vm, name) => (sink) => vm.$once(name, (e) => sink.next(e));\n\nexport const fromEventSource = (src, arg) => (sink) => {\n  if (typeof EventSource == 'undefined') {\n    return sink.complete(new Error('No EventSource defined!'));\n  }\n  const evtSource = new EventSource(src, arg);\n  evtSource.onerror = (err) => sink.complete(err);\n  evtSource.onmessage = (evt) => sink.next(evt.data);\n  sink.defer([evtSource.close, evtSource]);\n};\nexport const fromFetch = (url, opt) => (sink) => {\n  fetch(url, opt)\n    .then((res) => {\n      sink.next(res);\n      sink.complete();\n    })\n    .catch((err) => sink.complete(err));\n};\nexport const fromNextTick = (vm) => (sink) => {\n  vm.$nextTick(() => {\n    sink.next(vm);\n    sink.complete();\n  });\n};\nexport const range =\n  (start, count) =>\n  (sink, pos = start, end = count + start) => {\n    while (pos < end && !sink.disposed) sink.next(pos++);\n    sink.complete();\n  };\n\nexport const fromPromise = (source) => (sink) => {\n  source.then((d) => (sink.next(d), sink.complete())).catch((e) => sink.complete(e));\n};\n\nexport const fromIterable = (source) => (sink) => {\n  try {\n    for (let data of source) {\n      sink.next(data);\n      if (sink.disposed) return;\n    }\n    sink.complete();\n  } catch (err) {\n    sink.complete(err);\n  }\n};\nexport const from = (source) => {\n  switch (true) {\n    case source instanceof Array:\n      return fromArray(source);\n    case source instanceof Promise:\n      return fromPromise(source);\n    case source[Symbol.iterator] && typeof source[Symbol.iterator] === 'function':\n      return fromIterable(source);\n    default:\n      return of(source);\n  }\n};\nexport const bindCallback =\n  (call, thisArg, ...args) =>\n  (sink) => {\n    const inArgs = args.concat(\n      (...rargs) => (sink.next(rargs.length > 1 ? rargs : rargs[0]), sink.complete())\n    );\n    call.apply ? call.apply(thisArg, inArgs) : call(...inArgs);\n  };\nexport const bindNodeCallback =\n  (call, thisArg, ...args) =>\n  (sink) => {\n    const inArgs = args.concat((err, ...rargs) =>\n      err ? sink.complete(err) : (sink.next(rargs.length > 1 ? rargs : rargs[0]), sink.complete())\n    );\n    call.apply ? call.apply(thisArg, inArgs) : call(...inArgs);\n  };\nexport const never = () => noop;\nexport const throwError = (e) => (sink) => sink.complete(e);\nexport const empty = () => throwError();\n","import { Sink, deliver } from './common';\nimport { MapSink } from './fusion';\nclass Scan extends Sink {\n  init(hasSeed, f, seed) {\n    this.f = f;\n    this.aac = seed;\n    if (!hasSeed) {\n      this.next = (d) => {\n        delete this.next;\n        this.sink.next((this.aac = d));\n      };\n    }\n  }\n  next(data) {\n    const f = this.f;\n    this.aac = f(this.aac, data);\n    this.sink.next(this.aac);\n  }\n}\nexport const scan =\n  (...args) =>\n  (source) =>\n  (sink) =>\n    source(new Scan(sink, args.length == 2, ...args));\n\nexport const map = (f) => (source) => (sink) =>\n  source(sink.fusionMap ? sink.fusionMap(f) : new MapSink(sink, f));\nexport const mapTo = (target) => map((x) => target);\nexport const pluck = (s) => map((d) => d[s]);\n\nclass Pairwise extends Sink {\n  init() {\n    this.hasLast = false;\n  }\n  next(data) {\n    if (this.hasLast) {\n      this.sink.next([this.last, data]);\n    } else {\n      this.hasLast = true;\n    }\n    this.last = data;\n  }\n}\nexport const pairwise = deliver(Pairwise);\n\nclass Repeat extends Sink {\n  init(count) {\n    this.buffer = [];\n    this.count = count;\n  }\n  next(data) {\n    this.buffer.push(data);\n    this.sink.next(data);\n  }\n  complete(err) {\n    if (err) super.complete(err);\n    else {\n      while (this.count--) {\n        for (let i = 0, l = this.buffer.length; i < l; this.sink.next(this.buffer[i++])) {\n          if (this.disposed) return;\n        }\n      }\n      super.complete();\n    }\n  }\n}\n\nexport const repeat = deliver(Repeat);\nclass _SwitchMap extends Sink {\n  init(data, context) {\n    this.data = data;\n    this.context = context;\n  }\n  next(data) {\n    const combineResults = this.context.combineResults;\n    if (combineResults) {\n      this.sink.next(combineResults(this.data, data));\n    } else {\n      this.sink.next(data);\n    }\n  }\n  complete(err) {\n    if (this.context.disposed) super.complete(err);\n    else this.dispose(false);\n  }\n}\nclass SwitchMap extends Sink {\n  init(makeSource, combineResults) {\n    this.makeSource = makeSource;\n    this.combineResults = combineResults;\n    this.index = 0;\n  }\n  next(data) {\n    const makeSource = this.makeSource;\n    if (this.switch) {\n      this.switch.disposePass = false;\n      this.switch.dispose();\n    }\n    this.switch = new _SwitchMap(this.sink, data, this);\n    makeSource(data, this.index++)(this.switch);\n  }\n  complete(err) {\n    if (!this.switch || this.switch.disposed) super.complete(err);\n    else this.dispose(false);\n  }\n}\n\nexport const switchMap = deliver(SwitchMap);\n\nexport const switchMapTo = (innerSource, combineResults) =>\n  switchMap((d) => innerSource, combineResults);\nclass _MergeMap extends Sink {\n  init(data, context) {\n    this.data = data;\n    this.context = context;\n  }\n  next(data) {\n    const combineResults = this.context.combineResults;\n    if (combineResults) {\n      this.sink.next(combineResults(this.data, data));\n    } else {\n      this.sink.next(data);\n    }\n  }\n  complete(err) {\n    this.context.subDisposed++;\n    if (this.context.subDisposed == this.context.count && this.context.disposed)\n      super.complete(err);\n    else this.dispose(false);\n  }\n}\nclass MergeMap extends Sink {\n  init(makeSource, combineResults) {\n    this.makeSource = makeSource;\n    this.combineResults = combineResults;\n    this.subDisposed = 0;\n    this.count = 0;\n  }\n  next(data) {\n    const makeSource = this.makeSource;\n    makeSource(data, this.count++)(new _MergeMap(this.sink, data, this));\n  }\n  complete(err) {\n    if (this.subDisposed === this.count) super.complete(err);\n    else this.dispose(false);\n  }\n}\nexport const mergeMap = deliver(MergeMap);\nexport const mergeMapTo = (innerSource, combineResults) =>\n  mergeMap((d) => innerSource, combineResults);\nclass BufferTime extends Sink {\n  init(miniseconds) {\n    this.buffer = [];\n    this.id = setInterval(() => {\n      this.sink.next(this.buffer.concat());\n      this.buffer.length = 0;\n    }, miniseconds);\n    this.defer([clearInterval, , this.id]);\n  }\n  next(data) {\n    this.buffer.push(data);\n  }\n  complete(err) {\n    clearInterval(this.id);\n    if (!err) this.sink.next(this.buffer);\n    super.complete(err);\n  }\n}\n\nexport const bufferTime = deliver(BufferTime);\n\nclass TimeInterval extends Sink {\n  init() {\n    this.start = new Date();\n  }\n  next(value) {\n    this.sink.next({ value, interval: new Date() - this.start });\n    this.start = new Date();\n  }\n}\nexport const timeInterval = deliver(TimeInterval);\n","/* eslint-disable require-jsdoc */\nimport { Sink, deliver, noop } from './common';\nexport * from './common';\nexport const pipe = (first, ...cbs) => cbs.reduce((aac, c) => c(aac), first);\nclass Reuse {\n  constructor(subscribe, ...args) {\n    this.subscribe = subscribe;\n    this.source = pipe(...args);\n  }\n  start() {\n    this.subscriber = this.subscribe(this.source);\n  }\n  stop() {\n    this.subscriber && this.subscriber.dispose();\n  }\n}\n\n// //在pipe的基础上增加了start和stop方法，方便反复调用\nexport const reusePipe = (...args) => new Reuse(...args);\n\nexport const toPromise = () => (source) =>\n  new Promise((resolve, reject) => {\n    const sink = new Sink();\n    sink.next = (d) => (sink.value = d);\n    sink.complete = (err) => (err ? reject(err) : resolve(sink.value));\n    source(sink);\n  });\n\n// //SUBSCRIBER\nexport const subscribe =\n  (n = noop, e = noop, c = noop) =>\n  (source) => {\n    const sink = new Sink();\n    sink.next = n;\n    sink.complete = (err) => (err ? e(err) : c());\n    sink.then = noop;\n    source(sink);\n    return sink;\n  };\n// // UTILITY\nclass Tap extends Sink {\n  init(f) {\n    this.f = f;\n  }\n  next(data) {\n    const f = this.f;\n    f(data);\n    this.sink.next(data);\n  }\n}\n\nexport const tap = deliver(Tap);\n\nclass Delay extends Sink {\n  init(delay) {\n    this.delayTime = delay;\n    this.buffer = [];\n    // eslint-disable-next-line no-sparse-arrays\n    this.timeoutId = [clearTimeout, ,];\n    this.defer(this.timeoutId);\n  }\n  delay(delay) {\n    this.timeoutId[2] = setTimeout(this.pop, delay, this);\n  }\n  pop(_this) {\n    const { time: lastTime, data } = _this.buffer.shift();\n    _this.sink.next(data);\n    if (_this.buffer.length) {\n      _this.delay(_this.buffer[0].time - lastTime);\n    }\n  }\n  next(data) {\n    if (!this.buffer.length) {\n      this.delay(this.delayTime);\n    }\n    this.buffer.push({ time: new Date(), data });\n  }\n  complete(err) {\n    if (err) this.sink.complete(err);\n    else {\n      this.timeoutId[2] = setTimeout(() => this.sink.complete(), this.delayTime);\n    }\n  }\n}\nexport const delay = deliver(Delay);\nclass CatchError extends Sink {\n  init(selector) {\n    this.selector = selector;\n  }\n  complete(err) {\n    if (err) {\n      this.selector(err)(this.sink);\n    } else {\n      super.complete();\n    }\n  }\n}\n\nexport const catchError = deliver(CatchError);\nexport * from './combination';\nexport * from './filtering';\nexport * from './mathematical';\nexport * from './producer';\nexport * from './transformation';\nimport { subject } from './producer';\nclass GroupBy extends Sink {\n  init(f) {\n    this.f = f;\n    this.groups = new Map();\n  }\n  next(data) {\n    const key = this.f(data);\n    let group = this.groups.get(key);\n    if (!group) {\n      group = subject();\n      group.key = key;\n      this.groups.set(key, group);\n      this.sink.next(group);\n    }\n    group.next(data);\n  }\n  complete(err) {\n    this.groups.forEach((group) => group.complete(err));\n    super.complete(err);\n  }\n}\nexport const groupBy = deliver(GroupBy);\n\nexport const Events = {\n  addSource: noop,\n  subscribe: noop,\n  next: noop,\n  complete: noop,\n  defer: noop,\n  pipe: noop,\n  update: noop,\n  create: noop,\n};\nfunction send(event, payload) {\n  window.postMessage({ source: 'fastrx-devtools-backend', payload: { event, payload } });\n}\nEvents.create = (who) => {\n  send('create', { name: who.toString(), id: who.id });\n};\nEvents.next = (who, streamId, data) => {\n  send('next', { id: who.id, streamId, data: data && data.toString() });\n};\nEvents.complete = (who, streamId, err) => {\n  send('complete', { id: who.id, streamId, err: err ? err.toString() : null });\n};\nEvents.defer = (who, streamId) => {\n  send('defer', { id: who.id, streamId });\n};\nEvents.addSource = (who, source) => {\n  send('addSource', {\n    id: who.id,\n    name: who.toString(),\n    source: { id: source.id, name: source.toString() },\n  });\n};\nEvents.pipe = (who) => {\n  send('pipe', {\n    name: who.toString(),\n    id: who.id,\n    source: { id: who.source.id, name: who.source.toString() },\n  });\n};\nEvents.update = (who) => {\n  send('update', { id: who.id, name: who.toString() });\n};\nEvents.subscribe = ({ id, end }, sink) => {\n  send('subscribe', {\n    id,\n    end,\n    sink: { nodeId: sink && sink.nodeId, streamId: sink && sink.streamId },\n  });\n};\n","import * as fastrx from './pipe';\nconst { Events, Sink } = fastrx;\nlet COUNT = 0;\nexport class Node {\n  constructor(name = '', arg = []) {\n    this.name = name;\n    this.arg = arg;\n    this.source = null;\n    this.id = COUNT++;\n    switch (name) {\n      case 'subscribe':\n      case 'toPromise':\n      case 'toRef':\n        this.end = true;\n        break;\n      default:\n        this.end = false;\n    }\n    Events.create(this);\n    if (arg.length) {\n      this.args = arg;\n    }\n  }\n  toString() {\n    return `${typeof this.name == 'string' ? this.name : this.name.name}(${this.arg\n      .map((x) =>\n        typeof x == 'object' || typeof x == 'function'\n          ? (typeof x.name == 'function' ? x.name.name : x.name) || '...'\n          : x\n      )\n      .join(',')})`;\n  }\n  get unProxy() {\n    return this;\n  }\n  //是否属于子流\n  checkSubNode(x) {\n    if (typeof x == 'function') {\n      const isNode = x.unProxy;\n      return isNode\n        ? (Events.addSource(this, isNode),\n          (s) => {\n            s.nodeId = this.id;\n            s.streamId = 0;\n            isNode.subscribe(s);\n          })\n        : (...arg) => this.checkSubNode(x(...arg));\n    }\n    return x;\n  }\n  //过滤子事件流，放入sources数组中，就能显示\n  set args(value) {\n    this.arg = value.map((x) => this.checkSubNode(x));\n  }\n  // 通过返回proxy产生链式调用\n  pipe() {\n    if (this.end) {\n      return this.subscribe();\n    }\n    const target = this;\n    return new Proxy((sink) => this.subscribe(sink), {\n      get(_, prop) {\n        if (prop != 'subscribe' && (target[prop] || target.hasOwnProperty(prop)))\n          return target[prop];\n        if (prop == 'subscribe' && target.subscribeSink) return target.subscribeSink;\n        const sink = target.createSink(prop);\n        return (target.subscribeSink = (...args) => {\n          sink.args = args;\n          Events.update(sink);\n          return sink.pipe();\n        });\n      },\n    });\n  }\n  createSink(name) {\n    const sink = new Node(name);\n    sink.source = this;\n    Events.pipe(sink);\n    return sink;\n  }\n  subscribe(sink) {\n    const { source, name, arg } = this;\n    const realrx = typeof name == 'string' ? fastrx[name](...arg) : name;\n    let f =\n      source && !this.end\n        ? realrx((s) => {\n            s.streamId = streamCount - 1;\n            s.nodeId = this.id;\n            source.subscribe(s);\n          })\n        : realrx;\n    let streamCount = 0;\n    this.subscribe = function (sink) {\n      const streamId = streamCount++;\n      if (this.end) {\n        return f((s) => {\n          const oNext = s.next;\n          const oComplete = s.complete;\n          s.next = (data) => {\n            Events.next(this, streamId, data);\n            oNext(data);\n          };\n          s.complete = (err) => {\n            Events.complete(this, streamId, err);\n            oComplete(err);\n          };\n          s.streamId = streamId;\n          s.nodeId = this.id;\n          Events.subscribe(this);\n          source.subscribe(s);\n        });\n      }\n\n      const newSink = new Sink(sink);\n      newSink.next = (data) => {\n        Events.next(this, streamId, data);\n        sink.next(data);\n      };\n      newSink.complete = (err) => {\n        Events.complete(this, streamId, err);\n        sink.complete(err);\n      };\n      newSink.defer(() => {\n        Events.defer(this, streamId);\n      });\n      Events.subscribe(this, sink);\n      f(newSink);\n      return newSink;\n    };\n    return this.subscribe(sink);\n  }\n}\n","import * as _observables from './pipe';\n\nimport { Node } from './devtools';\n\nconst { Sink, pipe, reusePipe, Events, deliver, noop, ...observables } = _observables;\nclass GroupBy extends Sink {\n  init(f) {\n    this.f = f;\n    this.groups = new Map();\n  }\n  next(data) {\n    const key = this.f(data);\n    let group = this.groups.get(key);\n    if (!group) {\n      group = rx.subject();\n      group.key = key;\n      this.groups.set(key, group);\n      this.sink.next(group);\n    }\n    group.next(data);\n  }\n  complete(err) {\n    this.groups.forEach((group) => group.complete(err));\n    super.complete(err);\n  }\n}\nobservables.groupBy = deliver(GroupBy);\n\nfunction inspect() {\n  return typeof window != 'undefined' && window.__FASTRX_DEVTOOLS__;\n}\nfunction createRx() {\n  if (typeof Proxy == 'undefined') {\n    const prototype = {};\n    //将一个Observable函数的原型修改为具有所有operator的方法\n    const rx = (f) => Object.setPrototypeOf(f, prototype);\n    //提供动态添加Obserable以及operator的方法\n    rx.set = (ext) => {\n      for (let key in ext) {\n        const f = ext[key];\n        switch (key) {\n          case 'subscribe':\n            prototype[key] = function (...args) {\n              return f(...args)(this);\n            };\n            break;\n          case 'toPromise':\n            prototype[key] = function () {\n              return f(this);\n            };\n            break;\n          default:\n            prototype[key] = function (...args) {\n              return rx(f(...args)(this));\n            };\n            rx[key] = (...args) => rx(f(...args));\n        }\n      }\n    };\n    rx.set(observables);\n    return rx;\n  } else {\n    const rxProxy = {\n      get: (target, prop) =>\n        prop in target\n          ? target[prop]\n          : (...args) => new Proxy(observables[prop](...args)(target), rxProxy),\n    };\n    return new Proxy((f) => (inspect() ? new Node(f).pipe() : new Proxy(f, rxProxy)), {\n      get: (_target, prop) =>\n        inspect()\n          ? (...arg) => new Node(prop, arg).pipe()\n          : (...args) => new Proxy(observables[prop](...args), rxProxy),\n      set: (_target, prop, value) => (observables[prop] = value),\n    });\n  }\n}\nconst rx = createRx();\nexport default rx;\n"],"names":["noop","once","f","r","Sink","sink","defers","Set","args","init","add","data","next","err","complete","dispose","defer","disposed","subscribes","subscribe","forEach","length","thisArg","call","clear","source","sources","value","delete","Asap","asaps","_asaps","task","push","run","Promise","resolve","then","_this","_push","i","l","_asap","asap","deliver","Class","Share","sinks","size","s","share","remove","shareReplay","bufferSize","buffer","shift","cache","iif","condition","trueS","falseS","Race","nLife","race","Concat","pos","len","concat","Merge","mergeArray","merge","CombineLatest","index","array","context","state","nRun","nTotal","combineLatest","Array","WithLatestFrom","_withLatestFrom","exports","withLatestFrom","Zip","every","x","map","zip","startWith","xs","inputSource","BufferCount","startBufferEvery","buffers","count","bufferCount","Reduce","hasSeed","seed","aac","d","reduce","c","max","Math","min","sum","compose","g","and","a","b","Filter","FilterMapSink","m","MapSink","disposePass","filter","fusionFilter","Ignore","ignoreElements","Take","take","TakeUntil","sSrc","_takeUntil","takeUntil","TakeWhile","takeWhile","takeLast","Skip","skip","_SkipUntil","sourceSink","SkipUntil","_skipUntil","skipUntil","SkipWhile","skipWhile","defaultThrottleConfig","leading","trailing","_Throttle","durationSelector","hasValue","isComplete","send","last","Throttle","config","_throttle","throttle","defaultAuditConfig","audit","ThrottleTime","period","timerId","setTimeout","throttleTime","DebounceTime","clearTimeout","error","hasOwnProperty","debounceTime","_Debounce","Debounce","_debounce","debounce","ElementAt","defaultValue","Error","elementAt","find","FindIndex","findIndex","First","first","Last","Every","ret","subject","subSink","observable","fromArray","of","items","interval","clearInterval","setInterval","timer","delay","fromAnimationFrame","t","requestAnimationFrame","cancelAnimationFrame","fromEventPattern","n","fromEvent","target","name","addF","removeF","handler","fromVueEvent","vm","ls","e","$on","$off","fromVueEventOnce","$once","fromEventSource","src","arg","EventSource","evtSource","onerror","onmessage","evt","close","fromFetch","url","opt","fetch","res","catch","fromNextTick","$nextTick","range","start","end","fromPromise","fromIterable","from","Symbol","iterator","bindCallback","inArgs","rargs","apply","bindNodeCallback","never","throwError","empty","Scan","scan","fusionMap","mapTo","pluck","Pairwise","hasLast","pairwise","Repeat","repeat","_SwitchMap","combineResults","SwitchMap","makeSource","switch","switchMap","switchMapTo","innerSource","_MergeMap","subDisposed","MergeMap","mergeMap","mergeMapTo","BufferTime","miniseconds","id","bufferTime","TimeInterval","Date","timeInterval","pipe","cbs","Reuse","subscriber","reusePipe","toPromise","reject","Tap","tap","Delay","delayTime","timeoutId","pop","lastTime","time","CatchError","selector","catchError","GroupBy","groups","Map","key","group","get","set","groupBy","Events","addSource","update","create","event","payload","window","postMessage","who","toString","streamId","nodeId","fastrx","COUNT","Node","join","isNode","unProxy","checkSubNode","Proxy","_","prop","subscribeSink","createSink","realrx","streamCount","oNext","oComplete","newSink","_observables","observables","rx","inspect","__FASTRX_DEVTOOLS__","createRx","prototype","Object","setPrototypeOf","ext","rxProxy","_target"],"mappings":"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"}
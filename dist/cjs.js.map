{"version":3,"file":"cjs.js","sources":["../common.js","../combination.js","../mathematical.js","../filtering.js","../producer.js","../fusion.js","../transformation.js","../vue3.js","../index.js"],"sourcesContent":["export function noop() { }\n\nexport const stop = Symbol('stop')\n    //第一次调用有效\nexport const once = f => (...args) => {\n    if (f) {\n        let r = f(...args)\n        f = null\n        return r\n    }\n}\n\nexport class Sink {\n    constructor(sink, ...args) {\n        this.defers = new Set()\n        this.sink = sink\n        this.init(...args)\n        if (sink) sink.defers.add(this)\n    }\n    init() {\n\n    }\n    set disposePass(value) {\n        if (!this.sink) return\n        if (value)\n            this.sink.defers.add(this)\n        else this.sink.defers.delete(this)\n    }\n    next(data) {\n        this.sink && this.sink.next(data)\n    }\n    complete(err) {\n        this.sink && this.sink.complete(err)\n        this.dispose(false)\n    }\n    error(err) {\n        this.complete(err)\n    }\n    dispose(defer = true) {\n        this.disposed = true\n        this.complete = noop\n        this.next = noop\n        this.dispose = noop\n        this.subscribes = this.subscribe = noop\n        defer && this.defer() //销毁时终止事件源\n    }\n    defer(add) {\n        if (add) {\n            this.defers.add(add)\n        } else {\n            this.defers.forEach(defer => {\n                switch (true) {\n                    case defer.dispose != void 0:\n                        defer.dispose()\n                        break;\n                    case typeof defer == 'function':\n                        defer()\n                        break\n                    case defer.length > 0:\n                        let [f, thisArg, ...args] = defer\n                        if (f.call)\n                            f.call(thisArg, ...args)\n                        else f(...args)\n                        break\n                }\n            })\n            this.defers.clear()\n        }\n    }\n    subscribe(source) {\n        source(this)\n        return this\n    }\n    subscribes(sources) {\n        sources.forEach(source => source(this))\n    }\n}\nclass Asap {\n    constructor() {\n        this.asaps = []\n        this._asaps = []\n    }\n    push(task) {\n        this.asaps.push(task)\n    }\n    _push(task) {\n        this._asaps.push(task)\n    }\n    run(task) {\n        this.run = this.push\n        if (task) this.asaps.push(task)\n        Promise.resolve(this).then(_this => {\n            _this.run = _this._push\n            for (let i = 0, l = _this.asaps.length; i < l; i++) {\n                _this.asaps[i]()\n            }\n            _this.asaps = _this._asaps\n            _this._asaps = []\n            delete _this.run;\n            if (_this.asaps.length) {\n                _this.run()\n            }\n        })\n    }\n}\n\nconst _asap = new Asap\n\nexport function asap(task, defer) {\n    _asap.run(task)\n    return defer\n}\n\nexport const deliver = Class => (...args) => source => sink => source(new Class(sink, ...args))","import { Sink, deliver, noop } from './common'\nclass Share extends Sink {\n    init(source) {\n        this.source = source\n        this.sinks = new Set()\n    }\n    add(sink) {\n        this.sinks.add(sink)\n        if (this.sinks.size === 1) {\n            this.source(this)\n        }\n    }\n    remove(sink) {\n        this.sinks.delete(sink)\n        if (this.sinks.size === 0) {\n            this.defer()\n        }\n    }\n    next(data) {\n        this.sinks.forEach(s => s.next(data))\n    }\n    complete(err) {\n        this.sinks.forEach(s => s.complete(err))\n        this.sinks.clear()\n    }\n}\nexport const share = () => source => {\n    const share = new Share(null, source)\n    return sink => {\n        sink.defer([share.remove, share, sink])\n        share.add(sink);\n    }\n}\nexport const shareReplay = bufferSize => source => {\n    const share = new Share(null, source)\n    const buffer = []\n    share.next = function (data) {\n        buffer.push(data)\n        if (buffer.length > bufferSize) {\n            buffer.shift()\n        }\n        this.sinks.forEach(s => s.next(data))\n    }\n    return sink => {\n        sink.defer([share.remove, share, sink])\n        buffer.forEach(cache => sink.next(cache))\n        share.add(sink);\n    }\n}\nexport const iif = (condition, trueS, falseS) => sink => condition() ? trueS(sink) : falseS(sink)\nclass Race extends Sink {\n    init(nLife) {\n        this.nLife = nLife;\n    }\n    next(data) {\n        this.defer()\n        this.sink.next(data)\n        super.complete()\n    }\n    complete(err) {\n        if (--this.nLife === 0) super.complete(err)\n    }\n}\nexport const race = (...sources) => sink => new Race(sink, sources.length).subscribes(sources)\nclass Concat extends Sink {\n    init(sources) {\n        this.sources = sources\n        this.pos = 0\n        this.len = sources.length\n    }\n    complete(err) {\n        if (err) {\n            super.complete(err)\n            return\n        }\n        if (this.pos < this.len && !this.disposed) this.sources[this.pos++](this)\n        else super.complete()\n    }\n}\nexport const concat = (...sources) => sink => new Concat(sink, sources).complete()\n\nclass Merge extends Sink {\n    init(nLife) {\n        this.nLife = nLife;\n    }\n    complete() {\n        if (--this.nLife === 0) super.complete()\n    }\n}\nexport const mergeArray = sources => sink => new Merge(sink, sources.length).subscribes(sources)\nexport const merge = (...sources) => sink => new Merge(sink, sources.length).subscribes(sources)\nclass CombineLatest extends Sink {\n    init(index, array, context) {\n        this.index = index\n        this.context = context\n        this.state = 0\n        this.array = array\n    }\n    next(data) {\n        switch (this.state) {\n            case 0:\n                ++this.context.nRun;\n                this.state = 1\n            case 1:\n                if (this.context.nRun === this.context.nTotal) {\n                    this.state = 2\n                } else {\n                    this.array[this.index] = data\n                    break\n                }\n            case 2:\n                this.array[this.index] = data\n                this.sink.next(this.array)\n                break\n        }\n    }\n    complete(err) {\n        if (err || (--this.context.nLife) === 0) super.complete(err)\n    }\n}\nexport const combineLatest = (...sources) => sink => {\n    const nTotal = sources.length;\n    const context = {\n        nTotal,\n        nLife: nTotal,\n        nRun: 0\n    }\n    const array = new Array(nTotal)\n    // const defers = new Array(nTotal)\n    // for (let i = 0; i < nTotal; ++i) defers[i] = sources[i](new CombineLatest(sink, i, array, context))\n    sources.forEach((source, i) => source(new CombineLatest(sink, i, array, context)))\n}\nclass WithLatestFrom extends Sink {\n    init(...sources) {\n        this._withLatestFrom = new Sink(this.sink)\n        this._withLatestFrom.next = data => this.buffer = data\n        this._withLatestFrom.complete = noop\n        exports.combineLatest(...sources)(this._withLatestFrom)\n    }\n    next(data) {\n        if (this.buffer) {\n            this.sink.next([data].concat(this.buffer))\n        }\n    }\n    complete(err) {\n        this._withLatestFrom.dispose()\n        super.complete(err)\n    }\n}\nexport const withLatestFrom = deliver(WithLatestFrom)\nclass Zip extends Sink {\n    init(index, array, context) {\n        this.index = index\n        this.context = context\n        this.array = array\n        this.buffer = []\n        array[index] = this.buffer\n    }\n    next(data) {\n        this.buffer.push(data)\n        if (this.array.every(x => x.length)) {\n            this.sink.next(this.array.map(x => x.shift()))\n        }\n    }\n    complete(err) {\n        if (err || (--this.context.nLife) === 0) super.complete(err)\n    }\n}\nexport const zip = (...sources) => sink => {\n    const nTotal = sources.length;\n    const context = {\n        nTotal,\n        nLife: nTotal\n    }\n    const array = new Array(nTotal)\n    sources.forEach((source, i) => source(new Zip(sink, i, array, context)))\n}\n\nexport const startWith = (...xs) => inputSource => (sink, pos = 0, l = xs.length) => {\n    while (pos < l) {\n        if (sink.disposed) return\n        sink.next(xs[pos++])\n    }\n    sink.disposed || inputSource(sink)\n}","import { Sink } from './common'\nclass Reduce extends Sink {\n    init(hasSeed, f, seed) {\n        this.f = f\n        this.aac = seed\n        if (!hasSeed) {\n            this.next = d => {\n                delete this.next\n                this.aac = d\n            }\n        }\n    }\n    next(data) {\n        const f = this.f\n        this.aac = f(this.aac, data)\n    }\n    complete(err) {\n        err || this.sink.next(this.aac)\n        super.complete(err)\n    }\n}\nexport const reduce = (...args) => source => sink => source(new Reduce(sink, args.length === 2, ...args))\nexport const count = f => reduce((aac, c) => f(c) ? aac + 1 : aac, 0)\nexport const max = reduce(Math.max)\nexport const min = reduce(Math.min)","import { Sink, deliver, noop } from './common'\nimport { reduce } from './mathematical'\nexport const filter = f => source => sink => source(sink.fusionFilter ? sink.fusionFilter(f) : new Filter(sink, f))\n\nclass Ignore extends Sink {\n    next() { }\n}\nexport const ignoreElements = source => sink => source(new Ignore(sink))\n\nclass Take extends Sink {\n    init(count) {\n        this.count = count\n    }\n    next(data) {\n        this.sink.next(data)\n        if (--this.count === 0) {\n            this.defer()\n            this.complete()\n        }\n    }\n}\nexport const take = deliver(Take)\n\nclass TakeUntil extends Sink {\n    init(sSrc) {\n        this._takeUntil = new Sink(this.sink)\n        this._takeUntil.next = () => {\n            this.defer()\n            this.complete()\n        }\n        this._takeUntil.complete = noop\n        sSrc(this._takeUntil)\n    }\n    complete(err) {\n        //完成事件，单方面终结开关sink\n        this._takeUntil.dispose()\n        super.complete(err)\n    }\n}\n\nexport const takeUntil = deliver(TakeUntil)\n\nclass TakeWhile extends Sink {\n    init(f) {\n        this.f = f\n    }\n    next(data) {\n        const f = this.f\n        if (f(data)) {\n            this.sink.next(data)\n        } else {\n            this.defer()\n            this.complete()\n        }\n    }\n}\nexport const takeWhile = deliver(TakeWhile)\n\nexport const takeLast = count => reduce((buffer, d) => {\n    buffer.push(d)\n    if (buffer.length > count) buffer.shift()\n    return buffer\n}, [])\n\nclass Skip extends Sink {\n    init(count) {\n        this.count = count\n    }\n    next() {\n        if (--this.count === 0) {\n            this.next = super.next\n        }\n    }\n}\nexport const skip = deliver(Skip)\n\nclass _SkipUntil extends Sink {\n    next() {\n        this.dispose()\n        delete this.sourceSink.next\n    }\n    init(sourceSink) {\n        this.sourceSink = sourceSink\n    }\n}\n\nclass SkipUntil extends Sink {\n    init(sSrc) {\n        this._skipUntil = new _SkipUntil(null, this).subscribe(sSrc)\n        this.defer(this._skipUntil)\n        this.next = noop\n    }\n    complete(err) {\n        this._skipUntil.dispose()\n        super.complete(err)\n    }\n}\nexport const skipUntil = deliver(SkipUntil)\n\nclass SkipWhile extends Sink {\n    init(f) {\n        this.f = f\n    }\n    next(data) {\n        const f = this.f\n        if (!f(data)) {\n            this.next = super.next\n            this.next(data)\n        }\n    }\n}\nexport const skipWhile = deliver(SkipWhile)\n\nconst defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n}\nclass _Throttle extends Sink {\n    init(durationSelector, trailing) {\n        this.durationSelector = durationSelector\n        this.trailing = trailing\n        this.hasValue = true\n        this.isComplete = false;\n    }\n    send(data) {\n        if (this.hasValue) {\n            this.sink.next(data)\n            this.isComplete = false\n            this.durationSelector(data)(this)\n        }\n        this.hasValue = false\n    }\n    next() {\n        this.complete()\n    }\n    complete() {\n        this.defer()\n        this.isComplete = true\n        if (this.trailing) {\n            this.send(this.last)\n        }\n    }\n}\nclass Throttle extends Sink {\n    init(durationSelector, config = defaultThrottleConfig) {\n        this.durationSelector = durationSelector\n        this.leading = config.leading\n        this.trailing = config.trailing\n        this.hasValue = false\n    }\n\n    throttle(data) {\n        this._throttle.isComplete = false\n        this._throttle.last = data\n        this._throttle.hasValue = true\n        this.durationSelector(data)(this._throttle)\n    }\n    next(data) {\n        if (!this._throttle || this._throttle.isComplete) {\n            if (!this._throttle) {\n                this._throttle = new _Throttle(this.sink, this.durationSelector, this.trailing)\n                this.defer(this._throttle)\n            }\n\n            if (this.leading) {\n                this.sink.next(data)\n                this.throttle(data)\n                this._throttle.hasValue = false\n            } else {\n                this.throttle(data)\n            }\n        } else {\n            this._throttle.last = data\n            this._throttle.hasValue = true\n        }\n    }\n    complete(err) {\n        if (err) {\n            this._throttle && this._throttle.dispose()\n            super.complete(err)\n        } else {\n            this._throttle && this._throttle.complete()\n            super.complete()\n        }\n    }\n}\nexport const throttle = deliver(Throttle)\nconst defaultAuditConfig = {\n    leading: false,\n    trailing: true\n}\nexport const audit = durationSelector => throttle(durationSelector, defaultAuditConfig)\nclass ThrottleTime extends Sink {\n    init(period, config = defaultThrottleConfig) {\n        this.config = config\n        this.period = period\n        this.timerId = null\n    }\n    next(data) {\n        if (this.timerId) {\n            this.last = data\n            this.hasValue = true\n        } else {\n            this.timerId = setTimeout(() => {\n                this.timerId = null\n                if (this.config.trailing && this.hasValue) {\n                    this.sink.next(this.last)\n                }\n            }, this.period)\n            if (this.config.leading) {\n                this.sink.next(data)\n            } else {\n                this.last = data\n                this.hasValue = true\n            }\n        }\n    }\n    complete(err) {\n        if (!err) {\n            if (this.config.trailing && this.hasValue) {\n                this.sink.next(this.last)\n            }\n        }\n        super.complete(err)\n    }\n}\nexport const throttleTime = deliver(ThrottleTime)\nclass DebounceTime extends Sink {\n    init(period) {\n        this.period = period\n        this.timerId = null\n    }\n    next(data) {\n        this.buffer = data\n        if (this.timerId) {\n            clearTimeout(this.timerId)\n        }\n        this.timerId = setTimeout(() => {\n            this.sink.next(data)\n            this.timerId = null\n        }, this.period)\n    }\n    complete(error) {\n        if (this.timerId) {\n            clearTimeout(this.timerId)\n            if (!error && this.hasOwnProperty(\"buffer\")) {\n                this.sink.next(this.buffer)\n            }\n        }\n        super.complete(error)\n    }\n}\n\nexport const debounceTime = deliver(DebounceTime)\n\nclass _Debounce extends Sink {\n    next() {\n        this.complete()\n    }\n    complete(err) {\n        this.defer()\n        this.sink.next(this.last)\n        this.isComplete = true\n    }\n}\nclass Debounce extends Sink {\n    init(durationSelector) {\n        this.durationSelector = durationSelector\n    }\n    next(data) {\n        if (!this._debounce) {\n            this._debounce = new _Debounce(this.sink)\n            this.defer(this._debounce)\n        } else if (this._debounce.isComplete) {\n            this._debounce.isComplete = false\n        } else {\n            this._debounce.defer()\n        }\n        this.durationSelector(data)(this._debounce)\n        this._debounce.last = data\n    }\n    complete(err) {\n        if (err) {\n            this._debounce && this._debounce.dispose()\n            super.complete(err)\n        } else {\n            this._debounce && this._debounce.complete()\n            super.complete()\n        }\n    }\n}\n\nexport const debounce = deliver(Debounce)\nclass ElementAt extends Sink {\n    init(count, defaultValue) {\n        this.count = count\n        this.value = defaultValue\n    }\n    next(data) {\n        if (this.count-- === 0) {\n            this.sink.next(data)\n            this.defer()\n            super.complete()\n        }\n    }\n    complete(err) {\n        if (!err) {\n            if (this.value === void 0) err = new Error('not enough elements in sequence')\n            else this.sink.next(this.value)\n        }\n        super.complete(err)\n    }\n}\n\nexport const elementAt = deliver(ElementAt)\nexport const find = f => source => take(1)(skipWhile(d => !f(d))(source))\n\nclass FindIndex extends Sink {\n    init(f) {\n        this.f = f\n        this.i = 0\n    }\n    next(data) {\n        const f = this.f\n        if (f(data)) {\n            this.sink.next(this.i++)\n            this.defer()\n            this.complete()\n        } else {\n            ++this.i\n        }\n    }\n}\n\nexport const findIndex = deliver(FindIndex)\n\nclass First extends Sink {\n    init(f, defaultValue) {\n        this.f = f\n        this.value = defaultValue\n        this.count = 0\n    }\n    next(data) {\n        const f = this.f\n        if (!f || f(data, this.count++)) {\n            this.value = data\n            this.defer()\n            this.complete()\n        }\n    }\n    complete(err) {\n        if (!err) {\n            if (this.value === void 0) err = new Error('no elements in sequence')\n            else this.sink.next(this.value)\n        }\n        super.complete(err)\n    }\n}\n\nexport const first = deliver(First)\n\nclass Last extends Sink {\n    init(f, defaultValue) {\n        this.f = f\n        this.value = defaultValue\n        this.count = 0\n    }\n    next(data) {\n        const f = this.f\n        if (!f || f(data, this.count++)) {\n            this.value = data\n        }\n    }\n    complete(err) {\n        if (!err) {\n            if (this.value === void 0) err = new Error('no elements in sequence')\n            else this.sink.next(this.value)\n        }\n        super.complete(err)\n    }\n}\n\nexport const last = deliver(Last)","import { noop } from './common'\nimport { share } from './combination'\nexport const subject = source => {\n    let subSink = null\n    const observable = share()(sink => {\n        subSink = sink\n        source && source(subSink)\n    })\n    observable.next = d => subSink && subSink.next(d)\n    observable.complete = () => subSink && subSink.complete()\n    observable.error = err => subSink && subSink.complete(err)\n    return observable\n}\n\nexport const fromArray = array => sink => {\n    let pos = 0\n    const l = array.length\n    while (pos < l && !sink.disposed) sink.next(array[pos++])\n    sink.complete()\n}\nexport const of = (...items) => fromArray(items)\nexport const interval = period => sink => {\n    let i = 0;\n    sink.defer([clearInterval, , setInterval(() => sink.next(i++), period)])\n}\nexport const timer = (delay, period) => sink => {\n    const defer = [clearTimeout, , setTimeout(() => {\n        if (period) {\n            defer[0] = clearInterval\n            let i = 0;\n            defer[2] = setInterval(() => sink.next(i++), period)\n        } else {\n            sink.next(0)\n            sink.complete()\n        }\n    }, delay)]\n    sink.defer(defer)\n}\nexport const fromAnimationFrame = () => sink => {\n    function next(t) {\n        sink.next(t)\n        defer[2] = requestAnimationFrame(next)\n    }\n    const defer =\n        [cancelAnimationFrame, , requestAnimationFrame(next)]\n    sink.defer(defer)\n}\nexport const fromEventPattern = (add, remove) => sink => {\n    const n = d => sink.next(d);\n    sink.defer([remove, , n])\n    add(n)\n}\nexport const fromEvent = (target, name) => {\n    const addF = ['on', 'addEventListener', 'addListener'].find(x => typeof target[x] == 'function')\n    const removeF = ['off', 'removeEventListener', 'removeListener'].find(x => typeof target[x] == 'function')\n    if (addF && removeF)\n        return fromEventPattern(handler => target[addF](name, handler), handler => target[removeF](name, handler))\n    else throw 'target is not a EventDispachter'\n}\nexport const fromVueEvent = (vm, name) => sink => {\n    const ls = e => sink.next(e)\n    vm.$on(name, ls)\n    sink.defer([vm.$off, vm, ls])\n}\nexport const fromVueEventOnce = (vm, name) => sink => vm.$once(name, e => sink.next(e))\n\nexport const fromEventSource = (src, arg) => sink => {\n    if (typeof EventSource == 'undefined') {\n        return sink.complete(new Error('No EventSource defined!'))\n    }\n    const evtSource = new EventSource(src, arg)\n    evtSource.onerror = err => sink.complete(err)\n    evtSource.onmessage = evt => sink.next(evt.data)\n    sink.defer([evtSource.close, evtSource])\n}\nexport const fromFetch = (url, opt) => sink => {\n    fetch(url, opt).then(res => {\n        sink.next(res)\n        sink.complete()\n    }).catch(err => sink.complete(err))\n}\nexport const fromNextTick = vm => sink => {\n    vm.$nextTick(() => {\n        sink.next(vm)\n        sink.complete()\n    })\n}\nexport const range = (start, count) => (sink, pos = start, end = count + start) => {\n    while (pos < end && !sink.disposed) sink.next(pos++)\n    sink.complete()\n}\n\nexport const fromPromise = source => sink => {\n    source.then(d => (sink.next(d), sink.complete())).catch(e => sink.complete(e))\n}\n\nexport const fromIterable = source => sink => {\n    try {\n        for (let data of source) {\n            sink.next(data)\n            if (sink.disposed) return\n        }\n        sink.complete()\n    } catch (err) {\n        sink.complete(err)\n    }\n}\nexport const from = source => {\n    switch (true) {\n        case source instanceof Array:\n            return fromArray(source)\n        case source instanceof Promise:\n            return fromPromise(source)\n        case source[Symbol.iterator] && typeof source[Symbol.iterator] === 'function':\n            return fromIterable(source)\n        default:\n            return of(source)\n    }\n}\nexport const bindCallback = (call, thisArg, ...args) => sink => {\n    const inArgs = args.concat((...rargs) => (sink.next(rargs.length > 1 ? rargs : rargs[0]), sink.complete()));\n    call.apply ? call.apply(thisArg, inArgs) : call(...inArgs)\n}\nexport const bindNodeCallback = (call, thisArg, ...args) => sink => {\n    const inArgs = args.concat((err, ...rargs) => err ? sink.complete(err) : (sink.next(rargs.length > 1 ? rargs : rargs[0]), sink.complete()));\n    call.apply ? call.apply(thisArg, inArgs) : call(...inArgs)\n}\nexport const never = () => noop\nexport const throwError = e => sink => sink.complete(e)\nexport const empty = () => throwError()\n","import { Sink } from './common'\n\nfunction compose(g, f) {\n    return x => g(f(x))\n}\n\nfunction and(a, b) {\n    return x => a(x) && b(x)\n}\nexport class Filter extends Sink {\n    init(f) {\n        this.f = f\n    }\n    next(data) {\n        const f = this.f\n        f(data) && this.sink.next(data)\n    }\n    fusionFilter(f) {\n        this.f = and(f, this.f)\n        return this\n        // return new Filter(this.sink, this.and(f, this.f))\n    }\n}\nclass FilterMapSink extends Sink {\n    init(f, m) {\n        this.f = f\n        this.m = m\n    }\n    next(data) {\n        const f = this.f\n        const m = this.m\n        f(data) && this.sink.next(m(data))\n    }\n    fusionFilter(f) {\n        this.f = and(f, this.f)\n        return this\n        // return new Filter(this, f)\n    }\n}\nexport class MapSink extends Sink {\n    init(f) {\n        this.f = f\n    }\n    next(data) {\n        const f = this.f\n        this.sink.next(f(data))\n    }\n    fusionFilter(f) {\n        this.disposePass = false\n        this.dispose(false)\n        return new FilterMapSink(this.sink, f, this.f)\n    }\n    fusionMap(f) {\n        this.f = compose(this.f, f)\n        return this\n        // return new MapSink(this.sink, this.compose(this.f, f))\n    }\n}","import { Sink, deliver } from './common'\nimport { MapSink } from './fusion'\nclass Scan extends Sink {\n    init(hasSeed, f, seed) {\n        this.f = f\n        this.aac = seed\n        if (!hasSeed) {\n            this.next = d => {\n                delete this.next\n                this.sink.next(this.aac = d)\n            }\n        }\n    }\n    next(data) {\n        const f = this.f\n        this.aac = f(this.aac, data)\n        this.sink.next(this.aac)\n    }\n}\nexport const scan = (...args) => source => sink => source(new Scan(sink, args.length == 2, ...args))\n\nexport const map = f => source => sink => source(sink.fusionMap ? sink.fusionMap(f) : new MapSink(sink, f))\nexport const mapTo = target => map(x => target)\nexport const pluck = s => map(d => d[s])\n\nclass Pairwise extends Sink {\n    init() {\n        this.hasLast = false\n    }\n    next(data) {\n        if (this.hasLast) {\n            this.sink.next([this.last, data])\n        } else {\n            this.hasLast = true\n        }\n        this.last = data\n    }\n}\nexport const pairwise = deliver(Pairwise)\n\nclass Repeat extends Sink {\n    init(count) {\n        this.buffer = []\n        this.count = count\n    }\n    next(data) {\n        this.buffer.push(data)\n        this.sink.next(data)\n    }\n    complete(err) {\n        if (err) super.complete(err)\n        else {\n            while (this.count--) {\n                for (let i = 0, l = this.buffer.length; i < l; this.sink.next(this.buffer[i++])) {\n                    if (this.disposed) return\n                }\n            }\n            super.complete()\n        }\n    }\n}\n\nexport const repeat = deliver(Repeat)\nclass _SwitchMap extends Sink {\n    init(data, context) {\n        this.data = data\n        this.context = context\n    }\n    next(data) {\n        const combineResults = this.context.combineResults\n        if (combineResults) {\n            this.sink.next(combineResults(this.data, data))\n        } else {\n            this.sink.next(data)\n        }\n    }\n    complete(err) {\n        if (this.context.disposed) super.complete(err)\n        else this.dispose(false)\n    }\n}\nclass SwitchMap extends Sink {\n    init(makeSource, combineResults) {\n        this.makeSource = makeSource\n        this.combineResults = combineResults\n    }\n    next(data) {\n        const makeSource = this.makeSource\n        if (this.switch) {\n            this.switch.disposePass = false\n            this.switch.dispose()\n        }\n        this.switch = new _SwitchMap(this.sink, data, this)\n        makeSource(data)(this.switch)\n    }\n    complete(err) {\n        if (!this.switch || this.switch.disposed) super.complete(err)\n        else this.dispose(false)\n    }\n}\n\nexport const switchMap = deliver(SwitchMap)\n\nexport const switchMapTo = (innerSource, combineResults) => switchMap(d => innerSource, combineResults)\n\nclass BufferTime extends Sink {\n    init(miniseconds) {\n        this.buffer = []\n        this.id = setInterval(() => {\n            this.sink.next(this.buffer.concat());\n            this.buffer.length = 0\n        }, miniseconds)\n        this.defer([clearInterval, , this.id])\n    }\n    next(data) {\n        this.buffer.push(data)\n    }\n    complete(err) {\n        clearInterval(this.id)\n        if (!err) this.sink.next(this.buffer)\n        super.complete(err)\n    }\n}\n\nexport const bufferTime = deliver(BufferTime)","import { watch as _watch, customRef, onUnmounted } from 'vue'\nimport { Sink } from './common'\nexport const eventHandler = (once) => {\n    const observers = new Set()\n    const observable = sink => {\n        observers.add(sink)\n        sink.defer([observers.delete, observers, sink])\n    }\n    if (once)\n        observable.handler = (...args) => {\n            const arg = args.length > 1 ? args : args[0]\n            observers.forEach(observer => {\n                observer.next(arg)\n                observer.complete()\n            })\n        }\n    else\n        observable.handler = (...args) => {\n            const arg = args.length > 1 ? args : args[0]\n            observers.forEach(observer => observer.next(arg))\n        }\n    return observable\n}\nexport const fromLifeHook = (hook, once = true) => hook(eventHandler(once).handler)\nexport const watch = (target, option) => sink => sink.defer(_watch(target, (value) => sink.next(value), option))\nexport const toRef = () => source => customRef((track, trigger) => {\n    const sink = new Sink()\n    let value;\n    sink.next = d => (value = d, trigger())\n    source(sink)\n    onUnmounted(() => sink.dispose())\n    return {\n        get() {\n            track()\n            return value\n        },\n        set(value) {\n            //nothing to do\n        }\n    }\n})","import { Sink, deliver, noop } from './common'\nexport * from './common'\nexport const pipe = (first, ...cbs) => cbs.reduce((aac, c) => c(aac), first);\nclass Reuse {\n    constructor(subscribe, ...args) {\n        this.subscribe = subscribe\n        this.source = exports.pipe(...args)\n    }\n    start() {\n        this.subscriber = this.subscribe(this.source)\n    }\n    stop() {\n        this.subscriber && this.subscriber.dispose()\n    }\n}\n\n// //在pipe的基础上增加了start和stop方法，方便反复调用\nexport const reusePipe = (...args) => new Reuse(...args)\n\nexport const toPromise = () => source => new Promise((resolve, reject) => {\n    const sink = new Sink()\n    sink.next = d => sink.value = d\n    sink.complete = err => err ? reject(err) : resolve(sink.value)\n    source(sink)\n})\n\n// //SUBSCRIBER\nexport const subscribe = (n, e = noop, c = noop) => source => {\n    const sink = new Sink()\n    sink.next = n\n    sink.complete = err => err ? e(err) : c()\n    source(sink)\n    return sink\n}\n// // UTILITY \nclass Tap extends Sink {\n    init(f) {\n        this.f = f\n    }\n    next(data) {\n        const f = this.f\n        f(data)\n        this.sink.next(data)\n    }\n}\n\nexport const tap = deliver(Tap)\n\nclass Delay extends Sink {\n    init(delay) {\n        this.delayTime = delay\n        this.buffer = []\n        this.timeoutId = [clearTimeout, ,]\n        this.defer(this.timeoutId)\n    }\n    delay(delay) {\n        this.timeoutId[2] = setTimeout(this.pop, delay, this)\n    }\n    pop(_this) {\n        const { time: lastTime, data } = _this.buffer.shift()\n        _this.sink.next(data)\n        if (_this.buffer.length) {\n            _this.delay(_this.buffer[0].time - lastTime)\n        }\n    }\n    next(data) {\n        if (!this.buffer.length) {\n            this.delay(this.delayTime)\n        }\n        this.buffer.push({ time: new Date, data })\n    }\n    complete(err) {\n        if (err) this.sink.complete(err)\n        else {\n            this.timeoutId[2] = setTimeout(() => this.sink.complete(), this.delayTime)\n        }\n    }\n}\nexport const delay = deliver(Delay)\nclass CatchError extends Sink {\n    init(selector) {\n        this.selector = selector\n    }\n    complete(err) {\n        if (err) {\n            this.selector(err)(this.sink)\n        } else {\n            super.complete()\n        }\n    }\n}\nexport const catchError = deliver(CatchError)\nimport * as combination from './combination'\nimport * as filtering from './filtering'\nimport * as mathematical from './mathematical'\nimport * as producer from './producer'\nimport * as transformation from './transformation'\nimport * as vue3 from './vue3'\nexport * from './combination'\nexport * from './filtering'\nexport * from './mathematical'\nexport * from './producer'\nexport * from './transformation'\nexport * from './vue3'\nconst observables = { delay, tap, toPromise, subscribe, catchError, ...combination, ...filtering, ...mathematical, ...producer, ...transformation, ...vue3 }\nfunction createRx() {\n    if (typeof Proxy == 'undefined') {\n        const prototype = {};\n        //将一个Observable函数的原型修改为具有所有operator的方法\n        const rx = f => Object.setPrototypeOf(f, prototype);\n        //提供动态添加Obserable以及operator的方法\n        rx.set = ext => {\n            for (let key in ext) {\n                const f = ext[key]\n                switch (key) {\n                    case 'Sink':\n                    case 'pipe':\n                    case 'reusePipe':\n                        break\n                    case 'subscribe':\n                        prototype[key] = function (...args) { return f(...args)(this) }\n                        break\n                    case 'toPromise':\n                        prototype[key] = function () { return f(this) }\n                        break\n                    default:\n                        prototype[key] = function (...args) { return rx(f(...args)(this)) }\n                        rx[key] = (...args) => rx(f(...args))\n                }\n            }\n        }\n        rx.set(observables)\n        return rx\n    } else {\n        const rxProxy = {\n            get: (target, prop) => target[prop] || ((...args) => new Proxy(observables[prop](...args)(target), rxProxy))\n        }\n        return new Proxy(f => new Proxy(f, rxProxy), {\n            get: (target, prop) => (...args) => new Proxy(observables[prop](...args), rxProxy),\n            set: (target, prop, value) => observables[prop] = value\n        })\n    }\n}\nexport default createRx()"],"names":["noop","stop","Symbol","once","f","r","Sink","sink","defers","Set","args","init","add","data","next","err","complete","dispose","defer","disposed","subscribes","subscribe","forEach","length","thisArg","call","clear","source","sources","value","delete","Asap","asaps","_asaps","task","push","run","Promise","resolve","then","_this","_push","i","l","_asap","asap","deliver","Class","Share","sinks","size","s","share","remove","shareReplay","bufferSize","buffer","shift","cache","iif","condition","trueS","falseS","Race","nLife","race","Concat","pos","len","concat","Merge","mergeArray","merge","CombineLatest","index","array","context","state","nRun","nTotal","combineLatest","Array","WithLatestFrom","_withLatestFrom","exports","withLatestFrom","Zip","every","x","map","zip","startWith","xs","inputSource","Reduce","hasSeed","seed","aac","d","reduce","count","c","max","Math","min","filter","fusionFilter","Filter","Ignore","ignoreElements","Take","take","TakeUntil","sSrc","_takeUntil","takeUntil","TakeWhile","takeWhile","takeLast","Skip","skip","_SkipUntil","sourceSink","SkipUntil","_skipUntil","skipUntil","SkipWhile","skipWhile","defaultThrottleConfig","leading","trailing","_Throttle","durationSelector","hasValue","isComplete","send","last","Throttle","config","_throttle","throttle","defaultAuditConfig","audit","ThrottleTime","period","timerId","setTimeout","throttleTime","DebounceTime","clearTimeout","error","hasOwnProperty","debounceTime","_Debounce","Debounce","_debounce","debounce","ElementAt","defaultValue","Error","elementAt","find","FindIndex","findIndex","First","first","Last","subject","subSink","observable","fromArray","of","items","interval","clearInterval","setInterval","timer","delay","fromAnimationFrame","t","requestAnimationFrame","cancelAnimationFrame","fromEventPattern","n","fromEvent","target","name","addF","removeF","handler","fromVueEvent","vm","ls","e","$on","$off","fromVueEventOnce","$once","fromEventSource","src","arg","EventSource","evtSource","onerror","onmessage","evt","close","fromFetch","url","opt","fetch","res","catch","fromNextTick","$nextTick","range","start","end","fromPromise","fromIterable","from","iterator","bindCallback","inArgs","rargs","apply","bindNodeCallback","never","throwError","empty","compose","g","and","a","b","FilterMapSink","m","MapSink","disposePass","Scan","scan","fusionMap","mapTo","pluck","Pairwise","hasLast","pairwise","Repeat","repeat","_SwitchMap","combineResults","SwitchMap","makeSource","switch","switchMap","switchMapTo","innerSource","BufferTime","miniseconds","id","bufferTime","eventHandler","observers","observer","fromLifeHook","hook","watch","option","_watch","toRef","customRef","track","trigger","onUnmounted","get","set","pipe","cbs","Reuse","subscriber","reusePipe","toPromise","reject","Tap","tap","Delay","delayTime","timeoutId","pop","lastTime","time","Date","CatchError","selector","catchError","observables","combination","filtering","mathematical","producer","transformation","vue3","createRx","Proxy","prototype","rx","Object","setPrototypeOf","ext","key","rxProxy","prop"],"mappings":"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"}
{"version":3,"file":"mathematical.js","sources":["../mathematical.js"],"sourcesContent":["const {\n    Sink\n} = require('./common')\n\nclass Reduce extends Sink {\n    init(hasSeed, f, seed) {\n        this.f = f\n        this.aac = seed\n        if (!hasSeed) {\n            this.next = d => {\n                delete this.next\n                this.aac = d\n            }\n        }\n    }\n    next(data) {\n        const f = this.f\n        this.aac = f(this.aac, data)\n    }\n    complete(err) {\n        err || this.sink.next(this.aac)\n        super.complete(err)\n    }\n}\nexports.reduce = (...args) => source => sink => source(new Reduce(sink, args.length === 2, ...args))\nexports.count = f => exports.reduce((aac, c) => f(c) ? aac + 1 : aac, 0)\nexports.max = exports.reduce(Math.max)\nexports.min = exports.reduce(Math.min)"],"names":["require","Sink","Reduce","hasSeed","f","seed","aac","next","d","data","err","sink","exports","reduce","args","source","length","count","c","max","Math","min"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEIA,OAAO,CAAC,UAAD;IADPC,gBAAAA;;IAGEC;;;;;;;;;;;;;yBACGC,SAASC,GAAGC,MAAM;AAAA;;AACnB,WAAKD,CAAL,GAASA,CAAT;AACA,WAAKE,GAAL,GAAWD,IAAX;;AACA,UAAI,CAACF,OAAL,EAAc;AACV,aAAKI,IAAL,GAAY,UAAAC,CAAC,EAAI;AACb,iBAAO,KAAI,CAACD,IAAZ;AACA,UAAA,KAAI,CAACD,GAAL,GAAWE,CAAX;AACH,SAHD;AAIH;AACJ;;;yBACIC,MAAM;AACP,UAAML,CAAC,GAAG,KAAKA,CAAf;AACA,WAAKE,GAAL,GAAWF,CAAC,CAAC,KAAKE,GAAN,EAAWG,IAAX,CAAZ;AACH;;;6BACQC,KAAK;AACVA,MAAAA,GAAG,IAAI,KAAKC,IAAL,CAAUJ,IAAV,CAAe,KAAKD,GAApB,CAAP;;AACA,2EAAeI,GAAf;AACH;;;;EAlBgBT;;AAoBrBW,OAAO,CAACC,MAAR,GAAiB;AAAA,oCAAIC,IAAJ;AAAIA,IAAAA,IAAJ;AAAA;;AAAA,SAAa,UAAAC,MAAM;AAAA,WAAI,UAAAJ,IAAI;AAAA,aAAII,MAAM,YAAKb,MAAL,GAAYS,IAAZ,EAAkBG,IAAI,CAACE,MAAL,KAAgB,CAAlC,SAAwCF,IAAxC,GAAV;AAAA,KAAR;AAAA,GAAnB;AAAA,CAAjB;;AACAF,OAAO,CAACK,KAAR,GAAgB,UAAAb,CAAC;AAAA,SAAIQ,OAAO,CAACC,MAAR,CAAe,UAACP,GAAD,EAAMY,CAAN;AAAA,WAAYd,CAAC,CAACc,CAAD,CAAD,GAAOZ,GAAG,GAAG,CAAb,GAAiBA,GAA7B;AAAA,GAAf,EAAiD,CAAjD,CAAJ;AAAA,CAAjB;;AACAM,OAAO,CAACO,GAAR,GAAcP,OAAO,CAACC,MAAR,CAAeO,IAAI,CAACD,GAApB,CAAd;AACAP,OAAO,CAACS,GAAR,GAAcT,OAAO,CAACC,MAAR,CAAeO,IAAI,CAACC,GAApB,CAAd;;"}